<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>java审计1:ModelAttribute</title>
    <url>/2024/10/10/java%E5%AE%A1%E8%AE%A11/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言">前言</h2>
<p>本章节是按照 <a
href="https://aluvion.github.io/2019/04/02/%E8%87%AA%E5%8A%A8%E7%BB%91%E5%AE%9A%E6%BC%8F%E6%B4%9E-war%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/">文章</a>
进行 <span class="citation"
data-cites="ModelAttribute">@ModelAttribute</span>
功能点的漏洞审计，以及实际debug中各种执行。</p>
<p>程序 shop1.war可以在原博客主中下载。</p>
<span id="more"></span>
<h2 id="配置debug环境">配置debug环境</h2>
<p>tomcat + idea 远程调试代码</p>
<p><strong>1.安装tomcat</strong></p>
<p>• Tomcat 9.x：支持 Java 8、Java 11、Java 17（及更高版本）。</p>
<p>• Tomcat 10.x：要求 Java 11 或更高版本，主要用于支持 Servlet 4.0
规范及其相关特性。</p>
<p>主机里只有1.8，因此我们用的tomcat 9</p>
<p>https://tomcat.apache.org/download-90.cgi</p>
<p>点击如下zip进行下载</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241010202936176.png"
alt="image-20241010202936176" />
<figcaption aria-hidden="true">image-20241010202936176</figcaption>
</figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ unzip apache-tomcat-9.0.95.zip</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> apache-tomcat-9.0.95/</span><br><span class="line"></span><br><span class="line">$ TC=$(<span class="built_in">pwd</span>)</span><br></pre></td></tr></table></figure>
<p><strong>2.war包存放路径</strong></p>
<p>$TC/webapps/shop-1.0.0.war</p>
<p><strong>3.tomcat开启远程调试端口</strong></p>
<p>修改文件 catalina.sh，在注释后第一行添加如下</p>
<p>CATALINA_OPTS="-Xdebug
-Xrunjdwp:transport=dt_socket,address=<strong>8000</strong>,suspend=n,server=y"</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241010203111195.png"
alt="image-20241010203111195" />
<figcaption aria-hidden="true">image-20241010203111195</figcaption>
</figure>
<p>apache开启与关闭</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$TC</span>/bin/catalina.sh start</span><br><span class="line"></span><br><span class="line"><span class="variable">$TC</span>/bin/catalina.sh stop</span><br></pre></td></tr></table></figure>
<p>检测调试端口是否开启成功</p>
<p>netstat -tuln | grep 8000</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241010203208761.png"
alt="image-20241010203208761" />
<figcaption aria-hidden="true">image-20241010203208761</figcaption>
</figure>
<p>如果你想url的根路径就是你的war包的话，可以修改/opt/apache-tomcat-9.0.17/conf/server.xml</p>
<blockquote>
<p><Host name="localhost"  appBase="" unpackWARs="true" autoDeploy="true"></p>
<p><Context path="" docBase="/home/student/FSWA/module-2/apache-tomcat-9.0.95/webapps/shop-1.0.0" debug="0" reloadable="true" crossContext="true"/></p>
</blockquote>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241010203315018.png"
alt="image-20241010203315018" />
<figcaption aria-hidden="true">image-20241010203315018</figcaption>
</figure>
<p>默认web服务开放端口8080</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241010203330170.png"
alt="image-20241010203330170" />
<figcaption aria-hidden="true">image-20241010203330170</figcaption>
</figure>
<p>开启apache后，通过浏览器访问即可</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241010203442840.png"
alt="image-20241010203442840" />
<figcaption aria-hidden="true">image-20241010203442840</figcaption>
</figure>
<p><strong>4.idea2024配置</strong></p>
<p>由于我们是war包，因此得反编译相同结构的java文件内容才行。</p>
<p>如果是当前项目打包好的war放到tomcat中直接debug应该是没啥问题的，但如果是war包反编译弄成java代码后进行debug的话，可能会有行数不一致的情况</p>
<p>在classes文件夹隔壁，新创建一个java文件夹</p>
<p>打开如下设置</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145226148.png"
alt="image-20241011145226148" />
<figcaption aria-hidden="true">image-20241011145226148</figcaption>
</figure>
<p>选择刚才新创建的java文件夹，然后按照如下进行设置</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145243568.png"
alt="image-20241011145243568" />
<figcaption aria-hidden="true">image-20241011145243568</figcaption>
</figure>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145256100.png"
alt="image-20241011145256100" />
<figcaption aria-hidden="true">image-20241011145256100</figcaption>
</figure>
<p>然后吧classes中所有文件复制过去，把.class文件换成反编译后的.java文件</p>
<p>当然，弄过去后会一堆报错，但实际没关系，关闭语法报错提示正常调试</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145327715.png"
alt="image-20241011145327715" />
<figcaption aria-hidden="true">image-20241011145327715</figcaption>
</figure>
<p>java文件滑动条这里右键出来</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/1.png"
alt="file://C:/Users/admin/AppData/Local/Temp/.MWY8U2/1.png" />
<figcaption
aria-hidden="true">file://C:/Users/admin/AppData/Local/Temp/.MWY8U2/1.png</figcaption>
</figure>
<p>接下来配置调试器</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145449711.png"
alt="image-20241011145449711" />
<figcaption aria-hidden="true">image-20241011145449711</figcaption>
</figure>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145454446.png"
alt="image-20241011145454446" />
<figcaption aria-hidden="true">image-20241011145454446</figcaption>
</figure>
<p>关联到之前apache开放的调试端口</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145507746.png"
alt="image-20241011145507746" />
<figcaption aria-hidden="true">image-20241011145507746</figcaption>
</figure>
<h2 id="开始调试">开始调试</h2>
<p>在 Java Web
开发中，框架默认是否开启<strong>参数自动绑定</strong>取决于所使用的框架。Spring
MVC
框架默认开启自动绑定，会根据请求中的参数自动将其绑定到控制器方法中的对象或参数。</p>
<p><strong>对象绑定</strong>：当请求中的参数名与对象的属性名一致时，Spring
MVC 会自动将请求参数的值绑定到对象的对应属性上。例如：</p>
<p>如果请求中有 balance=100 这样的参数，Spring 会将其自动赋值给 user
对象中的 balance 属性。</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241010202743976.png"
alt="image-20241010202743976" />
<figcaption aria-hidden="true">image-20241010202743976</figcaption>
</figure>
<h3 id="buy路径">1.buy路径</h3>
<p>路由中我们看到buy路径有 <span class="citation"
data-cites="ModelAttribute">@ModelAttribute</span> 修饰的对象 user</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145557343.png"
alt="image-20241011145557343" />
<figcaption aria-hidden="true">image-20241011145557343</figcaption>
</figure>
<p>这意味着我们能够修改user中的任意属性</p>
<p>我们查看他有哪些属性</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145608992.png"
alt="image-20241011145608992" />
<figcaption aria-hidden="true">image-20241011145608992</figcaption>
</figure>
<p>我们能看到代码中有一段使用了setBalance将修改当前的user对象内容。（自动绑定我理解为只是在当前函数中，使用到该参数时，才替换成我们绑定的值，但对象实际的值并不会修改）</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145640382.png"
alt="image-20241011145640382" />
<figcaption aria-hidden="true">image-20241011145640382</figcaption>
</figure>
<p>那么我们修改user对象中balance的值，就能够修改当前user.getBalance()的内容了。</p>
<p>当然，源代码中也有对该参数进行禁止绑定的配置，但是能够通过大小写进行绕过。</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145652303.png"
alt="image-20241011145652303" />
<figcaption aria-hidden="true">image-20241011145652303</figcaption>
</figure>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145658795.png"
alt="image-20241011145658795" />
<figcaption aria-hidden="true">image-20241011145658795</figcaption>
</figure>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145704590.png"
alt="image-20241011145704590" />
<figcaption aria-hidden="true">image-20241011145704590</figcaption>
</figure>
<h3 id="profile路径">2.profile路径</h3>
<p>除了/buy以外，/profile也使用了 <span class="citation"
data-cites="ModelAttribute">@ModelAttribute</span> 修饰user</p>
<p>并且注意到cart.add中利用user的内容进行添加。</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145757832.png"
alt="image-20241011145757832" />
<figcaption aria-hidden="true">image-20241011145757832</figcaption>
</figure>
<p>那么我们把productId为4的flag添加到我们购物车中即可</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145807571.png"
alt="image-20241011145807571" />
<figcaption aria-hidden="true">image-20241011145807571</figcaption>
</figure>
<p>还是先debug查看需要什么</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145818220.png"
alt="image-20241011145818220" />
<figcaption aria-hidden="true">image-20241011145818220</figcaption>
</figure>
<p>那么我们修改这个id即可，注意User中对cart的赋值使用的是
setCartItems，因此传参的时候，传的是 cartItems（大小写应该无所谓）</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145829136.png"
alt="image-20241011145829136" />
<figcaption aria-hidden="true">image-20241011145829136</figcaption>
</figure>
<p>cartItems[0].id=4</p>
<p>因为是get请求，因此需要全部url编码</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145841144.png"
alt="image-20241011145841144" />
<figcaption aria-hidden="true">image-20241011145841144</figcaption>
</figure>
<p>（我应该设置的[0]，不过不知道为什么所有item都变了）</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145857520.png"
alt="image-20241011145857520" />
<figcaption aria-hidden="true">image-20241011145857520</figcaption>
</figure>
<p>当然，我们也能用post请求</p>
<p>别直接GET改POST，burp中有修改post功能，帮你添加上post需要的字段</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145909441.png"
alt="image-20241011145909441" />
<figcaption aria-hidden="true">image-20241011145909441</figcaption>
</figure>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145913975.png"
alt="image-20241011145913975" />
<figcaption aria-hidden="true">image-20241011145913975</figcaption>
</figure>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145923473.png"
alt="image-20241011145923473" />
<figcaption aria-hidden="true">image-20241011145923473</figcaption>
</figure>
<h3 id="注意">注意</h3>
<p>正如之前所说，自动绑定修改的是当前函数修饰的对象所用到的值，对象本身并没改变，因此刷新当前页面就恢复了</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011145949334.png"
alt="image-20241011145949334" />
<figcaption aria-hidden="true">image-20241011145949334</figcaption>
</figure>
<h2 id="修复">修复</h2>
<ol type="1">
<li></li>
</ol>
<p>使用 DTO 模式，在对象中放入能修改的字段，在后续进行更新</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011150017124.png"
alt="image-20241011150017124" />
<figcaption aria-hidden="true">image-20241011150017124</figcaption>
</figure>
<p>这样，就不能直接自动绑定到user的balance等字段了。</p>
<ol start="2" type="1">
<li></li>
</ol>
<p><span class="citation"
data-cites="InitBinder">@InitBinder</span>：通过 WebDataBinder 的
setDisallowedFields() 方法指定哪些字段不被绑定。</p>
<p>如源程序中定义了如下</p>
<figure>
<img src="../imgs/java%E5%AE%A1%E8%AE%A11/image-20241011150046952.png"
alt="image-20241011150046952" />
<figcaption aria-hidden="true">image-20241011150046952</figcaption>
</figure>
<p>但是由于大小写原因，使用Balance也能进行绑定。。</p>
<p>虽然也有办法检测传输来的参数然后进行手动验证，但感觉还是dto方式好点，直接禁了</p>
]]></content>
      <tags>
        <tag>java代码审计</tag>
      </tags>
  </entry>
  <entry>
    <title>jolokia exploit</title>
    <url>/2024/11/08/jolokia-exploit1/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="ebb0fc6572df144d34cb3f534c32435430fedc65cb4ebd7b5b0ed6092dac1492">716ec35b85424a76cef4d7885781ff9d5d2177798e3037f17f70b9fafedc9b2060a6c7bc0ba075341c3bf67d91f923d5378fac03f390eba85b0ed5d2e1c62b2b6475e01ac28fc5bbe69c013a85319950fcc0131f24c3bb9aa7ac84ab0e6212e8653f89cde403f9507a35364475caad901e914a2be14993331941e2e2e60763aa81c3953bb0000fb36f0130b7889e94e1be02c5d409bfacc1423850202e53bb78671ea9181d92de1c4f6a60894025817aa47c536353c1bdef0e637b8ee9a6a9dd97745ccb964ad85462f73e851cb47207fdeefe05a7f99e8ec3f2b695459300dca01956c62912c54c67fe6fca98a8e03237431c27f30eb285d4a0b1524d643fa184ef2708b1b3c8ca039beb1c982a2dfabbc734e881d93c66d7cd4034e821c3c61e87191ed48f14ba257073121315f25f2a306afcaf4f38693cd04c8214d4d2af5439828a4069106b240deb6e70693403ff17110bbfd22882c6e68ddabf68de21b2bfc78fbf3e2de43327683e34befc97f8c93edc6b30d720a6d9589336a6b070cf40d089b3f2d93b509a90ea26fb362e6336aa2f4ea74d35a5979d09e4e25779eccfa12f5bb2dbd29c566485bba6c2869f832a3aa0a360dc5aa21f65e3b37b93de6945236c86e5c0cb7527761954d4a23505f2a5c7620756a2796e012b8ef7a82f08ce633b69e62631644c019c4327e8ad2260354dd6616ad3446beb09c518912881b58c9298c301bb97cb226c3a47c67aa11a07ff46c2f1c03528a8b364eac88e37f260fe980fa5042e3296590804f455c55b2cdaa6181acb972919bb98420e2399e6024de88b3c75ce7b3784dd8811efbc57bcc00d44311c1eb0e0d07e168f95b8a728a29794da68c20622ea07144ecb10658141bad1016874fe3434bf5f68562a308316e0efb7e297b757749890d89d5260265567d28879d0f3f554a80a0d5f700b941cd15f8108a9f1b92e9faaf93764a4b9869c89cdc480adbe0b37a52acec83a3476e656826c2373fc5c8e771ac96859f3da97d7a90cc276d0d50fa5f5d027565c826f9a33ab4093e1c621443d5aca0558799c00f35b99bdc35359df78eba2f84cce83b61699f8da75085a97c67ca92657aca45b1ee805e4059e5cfc130ad492ec8f5405f84f464434f3c1408455fb2d17166b11d80dc5b00655157407bc709c9351bf9a1ff664c754b86ef37c17cd1f272585d45681946b49fc584c1d3bc85d9acdf1e9a2cdca61421adaae0edcc669b46595fedfbdc42995715b8b8d4dd0ce02bd139f994220369bba62118ccd71718549926046595e7a291bd4182881eb2dce2ccf60610f398e55d77c0acf6383bf57a5a71f1594f3b28c146b849e6037a095dfdc21c6dbd130e6d727f79384ce54c9c9f3ea378752cf75e2e45cb4e9c848a96b2deeae56493ed06370711be934965f6db065b2fae4c25093f30c824e6627153b51a7e4811dbcaf968e9965d20efbf8797a1bdf3cd6fcabdba882e2d7bbe19f390b25fdf41413b854f7c35261d9dc3fd3779ec953acf910b2681ca8aa5697f0b714ed9b9476619bc72fe16076b05eea97b5bcc8ec747b9029baa41036ffec925475475910c350d85251d7af5f4d16a1b7abfe71ee411a1e4cdd44a3204ab125b8afab73e99f48317b9b79321cf9a241d4d94da09f78b6557330b8db474a9a4b2d2cd90c86da530b8484834a0089111c5012ac4c329ef3298fdea4d2652cfb5ddcc24405842edebd22574befc32fa1975b0c71546b674654bd51f5f42235641395985ce10fd9a80df688d7c4ca7159b9e3e295b2df8783c649c55a9777d7c47a3a9c7bd07ff290e2646e6b53a2eb0cfe7140cd951b4ad57f98567d2a563c66ed0966c2e216a78b6ebb97b6f00239d439e9e2566c2d466ceb995400aaffb11347ce9e9281b7b837aac715592aa9ba5135804e7e92945899eeac839c0c80484e04934b9399e18eef147a3bd7a748911e4268cbca1325edb3381b44e252f4ca8f87c141a919702670ebe6b3a37ee027f25bf462a0d625066527eadf15ccd3d9eb08408de4619e253ec85cb5729d36e68de3cca444aed69e489a6d678e84829a73522400b813e8314771323934169db1f19e81b9907f1df8e8f2cf6c44b5ded31574c034d4ee5e60c2536af4b0286e08cbd28a7c2f62120e0da840f8727b9ef3ec308f7ee8110f77328d51b16a97d5174c1cca6d8197131c1ec5b9d021a5f97065198f0bc94e71a6a357c6e7aea1d99433840220156fb32fd0127feacaca4bcbb7f04f4f49c56ad75186849b3f2c8629ff1e7770449f567ede1d9b98a336808ec530056371a400a8ef1e700feb7853ec6fcc508009d89f48f8fc7c7b5f1c689cfae0d82f27614ccf8eb658bdfdc69a7ae68a1903072fe22c8324d1fe2facae066265abca430b747349ccea720891600e103e3fbaa6fae2dfecdb5b430c3a18c9d6128754929563b13a79a3d8ad66787935200d041c7649f91fb450c31aa70a747f4c671c55851c7db62415432e97fbee7657f4a1245904d2d43e47ae096483f0fcb39ed96fe53a9d51469e5094064cd8816359067933741cb0c6bf7fc0521ec200de0bd406912e6284aee3156dfafba30e8c4a14f64627afbb439a4f3358994d014c46aa5615b02a25eaf6e3a7294aefbd35e606d7952f1032258b05d40d9c15df2b819267f3cafe0d3fb0b5a69175fa738244b0a2f330af7fcf7aba575b2ea8ff30409baf21ac819fba733f95ae7dc6e81f9c151b56491c82d90982cd03a67d3621db6a8411dbdfeefd4323441de5920225cb204c639dc8243a035967c14b0ce86a3fe25b4342c20dd7dd9df299f139acaf95197605ba7cdb745447472a2846d70b0cd4c0888b990fb434629cc94b89820bf8748487b8716deffa37e52bd2e82bda4d0d3b33562cb6e818a766b2f80a91d337e22ee75b363b1b5de42f046c6c2763ecb4f3b6427587e4ecb80b7934a7cccc4a02df9166098684f439673a3e75fbcbec6948aa46216ce6be9139c2682d8166e81ae6068285af1b383bd1a6e011467b61ca40e23c5692d9e2a3dd9c59ce0b09cf3b9a127cafc18ad70cb6ccde6c741f37404b0aa3ac010cd50711245633714b5855c1ecfc51e5fe421e3c3dfcf5a7b0608a759163a4c0350ec21762e6f3ade873fe710d2e1944aaeb2c70edc2968a1b386c436e474f8ecf92de5fa96dfe76a684e1dc88a8c51bc0018b583587c98bccfe4fac1518765366e37c9dafbb39a4d1d6bfc48ef39b490aade9101539d4f031a23a9f4e5b0c7dd23115fc092858e5824b44f0676930fa9da1887ed23446c4765579c8b3efc7ef10fcbd4658479d372254b1a2a35a7187bd0c57b479778724bef5b83e9cfdd8c35d6c51e1e91102569f9410eb7f2918adf96d15fac240965c657028189643039f9507e5cea6b268275831f8a3b87fac93e28cbb6fcffac2eb5cf7726bd2d07fa010edbe17a8ea12bf4ca9854d5a0a1ce408f4c5a2163de17a0bb8d4c25e350d9b4bc2bd6fb20e21e4bf75834f44fff8a17bab19c96cd88b4617e0c464c20b097a8470c98ad4198c662adaae5bea556cf315b73227c5b916df1a86ecff8add31596a67e71b2da0ee6032f2f7b765920c70ad3d685a28ef8596995bfc3517a1c1b5b94eed04430ea6b869b13299edd669e0caf8b7b252bf879b29a4373595926f528a16cc50d8277d15822d64dadd232dbf68737cd7d7de7d1f6b607a33f6eb59d03d0f1a583c21033b6652b2f68bb186585569df3f4203560632ab0436e9f44458c51c6d7addb547e16383324d8359017edbb263843a23d1bcb5ab7382ca46d8c11a4050ff9106ef2cab6073b18a8f7f796a1058c7ca3266ccd1f228d9e7375a1baf7026960f6aa4d403011dd938f39a8df707701da5bb3d56820a5eeef7d1c69c1e99eafa078aa427e3982c8d1d72165d530abf28d61fe4df553538c09d1852f1471939721ef128782f7b4b7aa101f98e5ecda0e56a52fa8686e7c6d5a3ee152c07ab6ee96e463ad004712b65afc05820dd98b73c37b64fc24e1c01ef220f105fa94112bc3edbf8bcde848f55f0fa9e7bc311d9d6b98ccc127b1f9fca8a3d32e430dfc11f6afae01dd98fce9f994ee7681036c2337452123498f681b134236ce32174978ec11e87cd45d332b8394d64d0ba84e4f758a423fbcbd3a0b01122f1cea934838d0deb0d32f4f6ddf62e7bd07fe7f9714943b4e9c4dc42745d95c8dc19b6eeaf0d78b1a42e89b2bfef04f0c5357dbfbbcf7f904f717d91aa44f6273e76e746b12b5c036a1d5daae92ef6a81dbdc650218f50c8c1a7944d991b43b75357af77c9f192fd80e84ff93045c5b4ef7e65d2426d7cc1be91852fc793942a5718e1237f5654691c39dc27be13693a2a4e1d4c1eefb665402c184ca61cad3b3194cff7c3ba2a5b1019a28adeaab9df60237a905f8a9e66a5308110d8b7204419fb6e01bc60523eca5a0d31f76817327170d7e5497d33aa9e59cf16791433790fe343e120c15c32e1aa1373edf0b4bad543aafae165644c2151ac9b0612902b07feadcd91b3727bb0fbcb96047c232a989c2e49fa96f3b67a231cdb8ef90713620ee0b54b1d7b623cc2bbfb575c8834877c7c6a3cb08d3f4dcfedf0c78074a6a871c8f3970bcac69580509576dc5d458ff6faae8129cabb0af54ba93a27c98d1d019519040f9685c343468b4866a03841969d9c7504338aa166eb5ba26bc94917d889e545d7e1b7143af49c3c80381ea8f6510f028fdd0d43fc9c0a24db5dcad48c22999c4dcde50a80e978fdf3423d68208c5bab8e75c9350bb0b7e887470bef818b09d7054358382718f549dab05de9fad989db50d14c4b09ccb36deeef12783578a2876e515276decb4f2e7cac98d7d0f5b22599e3bf3ffaa5404eb5f9e8f8f8bc6c96698ea8730bb2e2a101fba49e14d0a4f2d1315a05274573affa0b9432230165c5d9ea6ac89d2b6c9ea48afe5f481f1dc958407f02ea4921950a641cb81732c302d6e3985b7142de280442ca7ec6c4f84d873bdfb08cff32af0716b41af4e80134746902af908eb05cb898aafa02fd91f74477068c2060174655466fdc70aaabd5d388655618bc4c9aa4bf580412a437d64656881e5665500e5357252c3bb369143500a143cbc706a011d9ffa9e0427befb1476fb029427b976efd6fae3a68e21b66fc84374d11ef96a15a166a2a7b4774d08885719ef9673767054c42bc781c0f9a332946cc47c6d80f458a9777d2a7d38783c61ae05c10ee86d2a518b351078dbf1eb33023fe91dac6bc06448fff4957e5566ebf4c17a1d60845729892858a9f7bf910aaec67a47de88d3e4b0a5562ef468d666b44afcdea3f440f64673cbaf86f2a68a613c679c89ea15b2f981605fc08b53f2f6c000fd2cc4f9cc6a34263d503b08bb21de37c97b4a153f81d91c883677ce4f496f00f74cc9fc2d388091c8773afd842d7fc2be7db081193b9a6ecff12e6466afc04794e121afa01877d0803af97109b3faccf4bb607c77e72fddb580f5c25781d61333bc276ecbbd773b3fc5ab2f8d3720182ea17477207a9101db976fbc9d378487eca39f64f7a7198ed23b8e2a09a6ddcea29ddc2239ac5705754869c0879316b057386eab6c3f0d0db695ddd2d8c2cc6e92f6a501dc014498bac4b30b6356ba120c17c6574f4c2a00bb74efbbf69da51aa9d655eb0406c41e3a4f79ac07f9f633d9c3526bb44f6943a9d781e968970adf6048d42830d4214f827e07eba36ef24f31ad56d741202360abfcb6f79af47936daceeca016bd9c7d059ad4a47ddb06ca246093389ecb079d76671a007881554df3d9967eecda16e28c0e63a15feb09b3cbca0d397e21554fc058985212b465004ee85f531e4b95c86771966ba7099579988528221313b7fdf073632be04419534384445c2120a19397423dfab1fa0154f07cacb82be4335c20fffed055cce34efb1c61e13852f8251b61989a71cb0cfda4ff4a9d439e9f2a9bf5351f4570b2f0af7b33dd3bb1b8d5a48bab3843a032d37c9276591ee055e0537b09375ab6e889eeabba36933b5f370e8a3a71acc1230c7ebf210027823c772847ef65faa90438f463aee51138684f54bb83a0e8394ca1d8e703e23fe78ecc785625c5bb2e9f04dde982a2ab99a84a3c05a0ec09086bfea20d30706b980062928e8484a8b6c67a8ee37d50aff880efc3f0c8bcbaf131dd0ce818274bfadefab4eae6d0ab086e90d03e14952338c8f78c3ebe72c1992ae648409ffd75640ee5aeff2ea49e93217e4cc9785d40b509177cff85d4d68a56439443b4deda91ccd13347f8767f2dc8ebc0eaf0b7bba97eadb39d49c878dca3d9835488bce62bd6a57a81ee5b3ae1539cc7fa7a30820d78cfb2b6a28b3308b3f27c9d461d2c6a18a0546636bb44e06f771fc56f071af4381c97473bfe36f3c4bb1ca06c9de39bbfb851a53a638e547c0659fad005305b863a30295a1ea255a48662fa4eb46260b37ff78381f30d2c7ca3763967809e5d085c8af097393c8d13276e16c4e58f7c19049abe53559eb90b04aaf3b8c949b829fdd16a07fe3bf52a85d45d7e470d0d14728553938b686bb41b3f6ee2d3398ed8a14bd9a8c28f95388b7305e2a67d3ddac6aebcc33b3a1fa800b04ac65fe3da836fae2fded6f8a9f78cc9cf3eda232f4a37699e5c69cf7493ba0e0e48fd1e6aa72288464e25ebe04b834fbca4cfe7591779ca8147e0aaa4d4aedbec6ed2ef1379e781447f6d5b86978cb5ffe7014f8903d8d95b649931e0597cc7116da92ef49c19e4eaea23d4165fcc4acbdcd2ed45754ea1acc253a4cce701c270441a487d29c4a69feaee640f4f55caf4da829c7d72516e1d35e4ac1808b040a3ead7e751f1096f65e4f33ecf666da1af7b9c70ef5fbc9512bc3828e1b8275f4aa2b722b2ceb985830dacee1fe7c4c414848809b027e0a47e3a7d05f0206f95266112a0aedbd1f183108bb6c6ac0f44c6ea813a54620b44f24bb7ace33283650281b3260a08a799ae8fcc3ec3232ac5f4fb7e211bc0c74d3c6e9d85774f2f9c427f006d9f9314b20aadbf64566c08d122e9cf0f508a92e8362e8b5f764e55ed2a7490071e0f4afc6bc6956e925db70740c18666a06e9b1c33015e740b7242c69345a044e4ec11ea5434793ce88305c5341f2b2bf5fbf2c8971debc1b54e8e578d5993de6139bc53789f8b8e6a0ab9d7aac9d21e93a48b805de2dfa8bb51b7e9761625571b3b71ef5178ed19f4201edb37e40858ec5c1ba7dc8e2f6a835c9a27a9a38a92a703ed76d47099c35d352af8fe5bde727c5ef766f149a0586ce6bfd2eb42755494cf934d10466b1b2302ac5efeff7027f017830baf93b313618e03dc2fdef29dba8b1d886362d121372df27154f55d96c7338714b7dd5b67ca5220b8e739e6c90bc20eb43defd2d7f787caba20d123135341a9da728bd9349aab0221ff8980d82ee103650e30e8e76dc42d498e3507243a60e865909cb3abd815fa3c634c5a40a255ad393cfde51af8e62e263ca7e10443a1d7c84c795ef2d8f19daa5d86498bb3b98ac8b18888dbd76cafbd30e242a973c32ee5d059dd135e86a06545091795ae11a9ead81ca89810f963517ebcf779d8b6b79dafa063899226b23bed5509190e405acc3e7c4a529bbffb0f32caa4a75b5609ca0d04f1dd5dab173ad0e5b0703a9aa5560c1ac9520167484c9c0c39082302e9fa63d130f7c15b3116a59123cdb061e4c2efd6414e2890abd1fd6d282020f6016cde6befb292281e8d408a6abacefb85c341cdeebb8953e812b0836f23961a955ad11706b5ce4e512c0af36c908c0bfde816cf5115ae39683f10e11dfe79d2d42638f86469f6a369196c26db28b1495780477e1fc05b46f53adb8746eaf7eeb266b04db6c0cf5a9b58b07748a8dda2459d78f75936037a0b3a348e6fd0175a943bfc0a1c30a5d3374fca610d4360dec0abc2422de20950421a47b47402abee3ae97ee0730898323d24dd058dabe442ffa700ffe4cfe4372bc6df0b8807179c05576851362362919bd185723e89a00d5eaf0918674b53efabeaa89cf9ef9fa5df229768b937807cabdb5268c3b5edd575e1be832feb080f39ffb07835b3e6b192e5ca56442a2788088a6007c2b11cbe242e2f493b0e4daf463f2788975003f2133ac2a23b628c086f1015616a2be334b1acfb943c7ba635f874ed98813f834118b1034315afe5e40bc629b06d62aff29f4791ca99aa2e543f5e4640b4f8f59297d8aede422d995ce7803affb1bf74233e60261e9f1885209143fba952ce85a7aafdfc00018857c58c530757fb816d00ad9509ca9d1fedbe2effa0ea6450eeba7d9336bafb01283d3698b86a755a8d6f0c2e353d0944bc076c86b9874711ce284bc4a7e0d0a84ab962ddb0a257ce35180ddecaa3510ffa3faee44321afa5300a4edc98ee294f5f692a3c76ef4ae5a9230b24ab9704bb240d9c68b785dc09fd5e1bd3b6cd682d2becdefc943b58c9e0a7f4f5a5dd4424879b94470fb7cee0ee66371198f4a5261c4556db3ea1dd7bf3c65ac045076787b16be34f8cd9e59b722c89e0d0a82303797faf48428cef82efcac241cd0d59766e86820067c65e9e99f9a0d2c4a0e615109b89e09651297ad8f5cf090e30f7317350c2eea86a32a76133509dbc17022b0a8495a7e9a41a8a67584d737d1d47512c7dee8436a4848e8db7e5c1cecdb069d1fd77f4f9534b0dd8da92fcaef26ea965decc3474df11ec59bdfab6f18ec335cdabc23d7fd6a7e332e813fc96084373f9e4a903f3a0e0b278771a200b506feafd5d63bdc26a2abcfca0a422de4c3b7005738c74bf64916f1868e344d5bb282a7cd20ab2607ae82c86503309ee081214a70b67ce612358a581cf7c90256e998dd26afb418e822dda14955136742b74a9e22fb8ba13c27491ffec0b994b8214485aa4f9150a8c30e9f7e31b2cf13967a2f799b18bbedb72e0d5c139042ff34fa040371c8a02db4293a699ac4bfd06c9a4ac102d25853ab8132605e09ce66459fd862c0999a7eb36e3f06b07f5a7c79bb00037254d567ce5dfe6396d93dfe1bdd1c59134ea5fd25816a917d9c83b21c83196538d12bcb9ec613e74e2b793b037556e741d68ec4baee54f145b725ba9d0db896602cdb456568b93985b0703a6050f64ea0c2b84b3d019dea9984718cc3a1462d2efadfbb7f4f0d7bdaf1ac875fd4576977a485ede94f4480cf41c3c9fc6d1d26ee3eb62bfe9107a8f31c01fff4e5b2e00bacf8668071114931f9ca0e13081fc6feec31278a77ba007269260af9ae736dad22866e2cfa0f1e6a0fbaf16f0626bf0af207a472a52170488aa963539f9fc3b919ccf5f474d7c65ac9aba2d073434f31fe92043363604855bcbdbc2a77e9d70ea9a610a93088c94c0a2bb4a11462b2a756e207ad59d318d1a5a53abbf5966e7006ce824361a2baabaa6320e27c3ec3a7e356a3f2fd9ae25f7607231ebd7eb82833db386928906d75c5682c809068fccfe85456536e23804bde9e86157e52c44c54c9c163e2598eff1c2d7a21eb0843a7ceaa9007046f78137becd97c69e35325a91440c7334e2bfe3effaf60c3be83f5ead87c24658d604760fcc58a7047c99ef67f5b95a5c65cb5d148dc82dd24489109d2ef1805dfc1a6465542a27e2cda11329fac7967bf5d067337ec006ff42efa50f663e817d9d6b461e34f47090577dda1ce4610843d1ae31c53869d940f4361e1256622991821d83e530ae7f2997b58484c4d6b02658ad31ef3096c2431735c8ecd8c067c278b3afa3e00c132eff16485ed431c779bca4f92282712da29aa7de008f0ec51e10ef805b01e9981205bddd797e6b363e8dfb932bbf6a365ef3956940ec4fc410894f44543c6d066b997a1ae20dbe7599c88bb0aa5d67090b437b9ea433c8312ed6785038419f6924008a3c8338884654e9b3b51ac22b148148d8eb09fd95b3119ee73ab918689b54ecefcb84c7093259204acc3b0644cc2f0f6cb262897b8f267aa1fcddb93397d01111638463d6dd9c204807a8057b33abd3122b1b9107e73b890ce119b53842ced9495dc3f2ab4edfc47b524378edbd43b1fa9de7ff5043d4d65714e8f53040c51d0b494876a80fc4f04cfaea1f9fe3718936d215bcbe990f02512e85ceeccd0a5ff060481bf6a0c76bc9d1ae3cb6204a1f1d4b3ee042582a82e22c727b27a6416b7f4e202f22e703e2014d155eaa8333b882735c1ecbf6eb3fa478a5f685dc320a595d8912246c6c6bd72e42b3db2a6cf40716fa81cf52f5d2e62da9326c032e4b790bbf7605e1ed94550a6aeb182c5f8a71bed0e132abcf2163f8aa4846d1c64a8184f2f1eddc88669cba00c1af1679ce0e6035fae5cc1d0be2bd18ae545ea3a3de3ef42b1975cc8f8b3e4bc5954278afef8813f11c83de3fa9c8e74f9df4568fb21b9d19940ec714f9c4af43fde27e6db91e6680bc0c5037f6c879c81cf54975a67821e17a05cf25c10544c13d5648cfd168c84d5ea8e9acd49b8f3655f237a8b32f89313b3b41f8264646641b66291f8e19421e2e7c06495dddd0c5f9fefb1419084278f4e522e1c34cfda202deef682adc3f620c5dd948f9788a624b2a20349525f2697580abc322c944bc190e5091b669f0cdaa84746c510e7dada1baad4785836037b9b380a2d8703a4816ef711889394bee12d1897dd1a6795482663a0879e4adda56dde701b201e6b4be20ef897c5ad98b4b31cf31b861fb9d6345d27b379a9c25d583d839b752d2e0852dd18d625787cfe32a4f653aacca47f6d75a67d674511fa47451e793e2ef3e3422e5b38084b92e189595ebd03e691cc54829f9a6969921b89c5d7e0c566211b61350f4882efcb5ba426a3fd3b9672afc539c6d094d28892447f07438091d8ce23cfbc817c5f930e9b7eba1e8265b1cd587acbf655744621e24036a0b9128444adf3fa427a29ff4f889f9ce93b7e0a0facc2c8354de7f1b68c6a4dac2c073ce9a51e93b75570318ab11f314a96d2282da130eaf60f46d469e4774bdcf628352bdc52baa839e9950d742397d7fc1c191abc3833a868b386f00090cd521d0b6a11ee260bdb36dae77e2ae02ceed1bc73a14a6ba5886b95a28c73f22daf611308cacf24ba91485e17075ede5359436d66dd99da0cde1d1f4151e2e66db42e7e00007f47ec96b2e9c8fec36caae5a7ec722c02c4d5a54d74f0d0b51800df877d6ce56be8fb44ad842fc8136dccfe876a30d6b5ceb174b99fbe74e39ad599b60c6787c0d5b1149392f238b78bc0a41e74d9a7f5dd72a644684d54f7c6ed921bbd77ee93d9c009d3f62331116dd7b96b7aa4bc56fdbea749ff8b9831d7dbbc19037f02845d95669912349cc07a4e16c59df10cb4203ee03afd44f63791dd3bd4f2f1ebe812782caad3e083cd730fb91707bee63c3a18e1b378b4aa851ce778503e7c2cc75b038b391998f37f206db3c5bbf398f47b412566f8d29eb76afa9faf7c62b770af1d153f965f62c9aaed8fe4562dfda5ac83620f847a5daa9cac8c8e6f1d028d349ae47e1ec7ab9657ba22374eedb1860365acc572cd6a5ee4cf5f5b8dc20c9954897e4389c4208288f707ba907815dd5d14ccb72f4aa00274e32b2b1745d1f1a11d199f5f49a9a201682edb2cf16a81608fb918f1dc8ae31e8e0844e69e0c0a30ff4de429a51157b4888b99d338ead5b473a644d0678ba9e0ed9968dc47099e984f693b38a2b9fd620be142bc41f15e7152c2aacac19e83c043db8b087d6c5f090e1aa79b2b6579c5f09e61aba3bf24aea542659ad43089848a6e6d873f44137fbfc66843d07e2715284cf0b110c390d6c1cb986fe562a6487c34c79e6f706bdc7afbd39d376ae27065a639da5e9139be3f571fda9a8c1df8e82024194093792d83e0641a12b5b692c21b5dd614bd14ccfe616c8921da7af750441c297af642188aadfe9e6c5e24842e5d3963ad72cabd0349bb9d5396ecdd825452f21ad36ef111ccd035f13b65087241d661fc59587231bfdcf8fa5799398490fcfa087e62d05085d65eb29c63c4cea4b4e990e4af1de0d01286c832793b24fccc12fd7e3dbd3ff298968726f76bca2a23a83254d49175e1f20a349dd03a92ac0ba2654fa9f90a7141bc478383261c3bdc025f40432b667f5b33a2bad5f945f7333e6a1886b0c89edc71d966594f533471169cec75d1b869fefdce15167e7d5cb66ca30ba519aaf62492a9daf8658646bb1c64cd0d9c10fad145a732188657afed9c39afbccc9605469f3c3903b79dc0061eca0964771d3ba31332e19a206224539736a11eb8c6e781bf906fa062d6ea5e3b22becebdfafc6b3849a3686cfa971269adcda4d0c9b7a074812ad834be0970391cb699a5f17e1c570a7b16935d089ee47b9045607cd140f0bfacb39d7405b3bedce14c53b9fe84132cc0f23482ba07ed279c769313809a350ba77e7db6d2dbc3a8f8b5048b5e559fa31094af8e3516e7717b80d469956b090fe845dad30ee8affc9147ad08c5cb4c4eef902bfdbcdba90d097c945a756b761fb7b4b3224c1e387a84224372bdcf419af3a2cbf4e2c1b84aa874b66f8c4fc7fb11a3467b66cfa1c4b2cad6402af91a60d74a334c2788eb47982332cac080cf471a1d2448bae1c5bab2abbbaacc3e672134c2b805d87740053dccf232ca7aec45976e99accf3efdbef318f04316f306292de4b4b2da0769ab9542070e8ff2f9b756beb1c1befe4c27c47c0ab3256d688aa707468c319b2fbe03dcb5b1662e3665a79bcebf532872aeb9e49716c707aeabbd2b9f217521809f63b919b3a4cce5ab1ae6142c47a244092c680dd56ec57820054c242f404d908d610bd1d77f8a4f72786fafa332a008d9992c8fa5b4fbdf5bc32c866787ca6bb6c3a0f2dc0a1a8e174b1230984fcae94e2e65508bf8e71f8b07681ce9a82555552661cbc490a6eb4cbe787031cd5a8ae0749a3b6d26ef1ffaf4c35d90d577b9dd024278e4b93a1ae907c324ac4850247b2bdf5f09f5f5ed1074387ae062b81cf78d47593538ed46a85653ad4647b52b8cf86285064303b91b6886c3f1aad3dcef77c0a7a0e39e0f4790775092f7b8a3de8e3b3f45e0ab8be34b5583d75b2321b75858c541ca018a2443f039255614d742faed5bf60dc4d2f4ed200ccb8423c46e647d50e2c2e12f938c3a4201c858c920dc15ca6e0f86f1fd9f929b7d21525e51580705b3ec47d2c1da35b8ae30b007cbf5e1e5207c048eab23953c25b5131b6e633f0656bb91268683b8f44625ee8bd308122c3ae7f92b21ffddd486b83c5dfc2fed5cd7212dafa98ad4bbfba2e2d3dc2aa80688e6128fd418fad1f710fcf94caf27c62e1229652b44bfc9a2dd575fbf97ac16af0268ccf82301930d7a5b27fa4de33aba016180092150a2d26ebe845dc0d99f6bf219b9073aa38edcca02db9e0b99f40d83cf0c1999805119b1897e9b98269d2797a35b29b545202798a8b6ff6965ac4e13c323e27e4583cd53f03e27212f8d2543d57495e29b79c559428d0fa5f4019830d5a3d33d83c31673438fe56c16faab0429572fbed6a2d2f269494fbdcb1093aee39cda99e51e9bcd50e419a3af7b3be965b70521ff5b1c1df9111205f91f73854dacd7867d0094e78adcb67ad9cd52aa8df952d9343380392d977d7d88a7b3b256fe20fddd9790846001fcda4add3764b6bae432aebd3aefd6c5c1db3c6a09815721a044ea7ff7b1b977ed4f15ee3f46f3768159aa35ea812e5b31c06d6874aef813e02958ed7f10ed6d2a3ed794dfdd599d68a8818d9d1d3ffeb901277cfe5c7c0fb906c87b81d188ffd5a3d8015c86bc645ed80e3a8e35da3731b9a3859cb20e76a4c37841c47fd3234ea073bfefef4d4656123869c065e72c9bbb3842638158994f9643df42b1163d927d3fe2e088bce7bb9de9924865f6333a4aed380442ceae3c2adff511eb7affeab2bf69c60a0aed6f9ee043fecdcbf07680661ba36b7a1f5df83fc3b2d7b81d80b4c5ef85c70c729cf4545549faff27673be2c93ee71bcb7f754ff841eac5c3042169001c1f6917e8692eb7fa390aed41e4f1805d96a405ce3c6f0435d2732b71ddf354d5842faa7042ccb777f6ada5770642075b6e020baad55869d30a9ca549d0368027c4db47afdd9095f624b2f425105fd7cccc8f9f1561c02dfd0e0b06523cb22963638f70b707d58a18dd734329757de6b410eacd237d657790351509e4968b0cb6f806cd667ad57cdebf75f272dbb1d38d5e44c531622891c60542afa4bded922b75a78cf047023a31863d3a95337a82ab5b22808e941319b06e464fdcad9d8976ea5038739ed4c8755400cf788c97c09c7d58938527a525acfa710a4844f7fbc3c27993ecaa61a8c6c82bd23f18488fd948fe683bb96f6a870941f5ef678e11e49e99286f6310dcbe688c06116f63e06afe76d5c0d74e0d2171c26e65535e0c9ac16f4fd9105bc9182fb794cae8299a5dd502e8e1c430aac905e8202c8320f531e2dbb2982ecabee46c22c56c992fea9ceee163f45a5b3c32e4bf4ae3debad90cf741edac0af2b52262af3eaabb84bd4bc00aa64c2b802e3b54ae2525d52f092ae16a6584960b45a6cb2c57ebd93a8c82b860dbf352d4c39b08bfe15c0dd073a8a3bec2e2890f804d00f6ebbe1fb837b2c2a85d21556f531804dc226b14ad419b888cfd9f6ca35a6d382961f0b14818b8a22e19dab7be842f975e05eb7246de913939797a33816c861c8d69ec8c51b91d5a6b7faed8096d99a9d43ce4e865aa306ba8a41461aab46ca08e26b4238a570547cdf6e5f1c5a44132d8bd9bba2cab058d776c8860796609f076a15ee3c25769cf9df7999a490026bbd148e3bf08d14d27f28c90e865b6bbd0dd590bde21d27afb43389bd8c5b008551e0185321514ac181fc3ce492121bb57195bae5d8fbf5e0d03a29c5eee53424a99b86744a30e4d3ea1d3291f468e526e2840bc1400615fe8c845640f7d39ae083221067257e011f967fad1174296f560d72c9c065b1ba431432e90cc3bf1399dbadc1e984950b33f9ba0a362753f56cdecf4eff46fd193a0865cbce812e1c83ac705becbe7782d29e11f99544fd140179896ff134dcd6f3e40d5935799f4a3532a96450fdea47cb3b3e2d0b9a6226e9d1b2a1c60b9722499be72e96593f7afa1223e905148d698d018e9712e2d24a684b83e9458b73890c0db01044c9845546713c15375ccc81503797fb26f59c5f4d1eb6d5f26d006387889b0c4c770bd0bf054e91c21a052120453e4c9d30c41e0f0b4ff14168160740b97df87683f1f215cd3ad403498f52eaf066adbccea85842f68ab1b55f45b389ce44d27370e695aca23242e098b040fc2c740351f3618fc0bf619f07562ca4a622d350eaf86dac1903035667ebc3e21d1381508cae4e140c22e356a110cc10f11fd16e6bd118ae11df6e1633f778da359678146c1951bf2ea235b32e4ca78870a4477c439a8088d87671ede693b1bccf4c585e8cb51a1e0e21e8971b78557e6d0b9c14b430dd729aee593b134f1cb07b894c87a3baf78baa902d06859bd506a5aa25fe6a0c85e70b27f3c4adfb718686afc61a95d827ec25c2d525337fccc52c3186ab4d2f32ba20faa2cbf4bf8fe737bd0cc7c45894d2053e889481b60702c01702da1de343ca5b25e16f56a692dc9e7c1616f7792b9bb8ae47aa60ba49982dbf3abad101dd5e7ce921d11236f872976011877dfa6808c8a2a831064df989941e5b03dfb485ffe5f2cb8a2a3e80b8904492c61626a7e1a2788751a25a9fc6fe4a829562b2077a85af43f4bfb3c236d197f8e0cb7a3be78ced902b3c661dd064a1d390ffcd0f4b3eae33117466f9e91f0d147efc8542e6c74acbc1ca868cf1f7d092796c2d658e3bfa9dfac34f6de0210cf4095fe8a31e036a7b97f8ded2d18fd70d836255fe57f32ccc447c843e225868df9591c04a156dfbe5bb9e1afb7dd8761b0391829ed8af22ec9a4185b6f8d441090f9cac5325dd49800dd8f792f6b8319ac8f226b29b3e035f58965cf046308dd6c7782ede30fffde211af4e3f7177f6c818f2a699a5e000008c3895479dc59da62c0628dda26550edfa6ee45a4233a77760ced0e33649d872c7c4dcb6de3e26190419826881326f8b34a4758699650b49ad501d08477a6538ccd1858344e89b69059b72f57646cbdfb46ebdc03a4edc302a2476ae2d65045a727e3f8750cd1f46660078135892a470109090c7519b9facf708e32fba45133d24e6d12267ef7fefd2312a41c6137f762886135d26649557338a0b85e926632532e651e73bbba14fd523956d67f4710c96889ff0e935fe31476a3e52b45dbdccba4bb1fd39dc5b1cb08bab4083f03ccc453104a93e822f052aef6f1b23ae73f302548da79ea9f5dd4cf83ce096a07049f4f7b5817b145cd9b6b467c5ba6dc6c720b2919056ed91ae9db8db62e1190c2bb4ceaa8d26629ebb696c06fe34074677b47d20512128c6dbbf21dfff7879d0829d91c1cc65fea455be5183ae62d9a522e1c9435f39d9eaca9a9ca09c2a8135041b9fa2f60f213e4284177bd5f3563ff3a332d84e75c0143471e73ede469ee5845aec5cd173642a440f7d051486dd38793968a9cbb0685428a4ccfbbe668e28ef4757e15c89ce6574686255a0cad08d06a71785f4427226f92e9acbb4edff2a58d2e6b44aa3e7eb4a7df64a445d51361cbe860a77f5f728af4430ed75d415a2fadae0839b587e9fcd783edf5774f0c8b1b7627d8b336209595ccdd67c973716b5fd6e8cf6a9823b65cbbaf80c1e3e422820d5e450ee65d44d9bae9ad63ccdf764957acd1914a3ac9023e78ad5f701b29ec733990b1d9cddfa9eb8b4e176e03634324a73f2008ba28fa353e4f61803c7fc6a86661449e0a4ed169cb719136de390c7411f972d9c7cd71ef8b89ee79e8a3f780bec2e3578b6fc24dad579798a364fb9f1b362c8cd07346087ccc90a63149f66b791588b5f6c66089ea0818f5c8c9cfda77475300f803a420911d8f92d915486d685fb3d8334df75bd6839acc7fa0f93d5a9dfbc8b5cea7c25f7c8b9ddeb7611c20283f0be5e70e0af30001c1fe7ed71504a735202deadf79225f9afd04169c9824886e0f18aa122b819b576c63ba0f6b63e269e76f08b3a8c113f511c9493b6fc7d0936bf95eb2aee0b053c08a9d524985421ea889112f15db571aef220f0bd28be7edb914f64e88c60e98a80d46dd5781aa1ea85bb66c1ffb76fbbfd607c6649d3e700cf04b3be5dea0bd5dfe40b5e48fb47fbb0382c93b14394cdf4c95757694e0e2f6c4ecd4d6a97d6495dfbc30f20fe1c72e485dc8e3a33dc50f616bfd576e90b1abb62c4093708d3d3915e36fb7237de091ddb6a80931d28c26864cf4e66dd8c2f54eb3a66a6026476622e5b8d243e4b39b778ed9651a9bd9cd6aca1021d33fb4768048c08ba2396d5fdd1a39584b7b6407510d13dfd479f9b01fd2f614a8e5b97735b5c83dd76334dd7614f47c07f093bd888e8f26e60b2701452b9048c0edfb47f1c7b561101865d5d4e7cccccfb607951f6da647ab0663f194cbdbd21f7575c2e49bb9bd933a2c3b3d9ba6c8e4184136eba246d4b51ea427f9b4d73bf47ffdc04c6dbc2fb0d4e0d97a32b48b533666a41d5dc2c8f87d77e7dd35d3e6d3f34aec26a7cee879aa8b4b27d666f14c372e0b356216e1a3d01e07dc60923f698421580f5b8c1bb37eb68277b7c7f265b3e2129f8c5d876f9df37ffe5d3fdcd0e33138f326a7fc4c83fe1421d4d4d2aa836a08fb3e225fea95eb2c47b4d5997710e7f6d5067814ed4b0eae404d669520f6c98ea44e8dd3f6cabba5310aa9e04225b5b0efc50a20b8e1d4ae79054da596d2f568cea19d72fadca60d18552c68584c3f97a759bebf4634a3799650d8d1cad60ad19cc6f786cdc82fb824863a6f85487d0c8322b9a6da088301adb0e2b0eda59b8ee5add9a12821f78f4ad6c754ac48eb095261c20e2bcd2db82ff9e0c1bf14d256a154fec90bcf94cc9f12516de2afa81fe41cbd06baf73265d09767414f60207df3708c796d003058a8c30ed5dc700fde51ca5443883e0a47c3f476be54cb59535b3a98e27fb64445383edecd0cc8cada025e23ce13f6fde14d9314273b2c258d7fab3d926f17ce342f71c7f131455010d86f1e9355db016e28d1fd5a7c7116f20b833c839b8da8f9de059dd1546ad3db5922d5e60a55445a6f869def6f70a0eae34c41e69b9985c9a5d38f32a113de23854632396277d26bed05368411c88bd13091be6aede8f49b5934c49171a0dce8cd01b24e820e0a62327a89b850adf37f49362603c3ac3e4243f18f578fe99ada7f338710b665bef0411e81fb7ccf615ee2327f2d42307c58174e9fc67459fd29f3c10b04f76bca6a7fdc0e93a796618df8e54feaf3140e64329f35bd5f30e5691423ecb67c5ed3fed98c755465619c7aa6b7a9dcc3505a987460dc57a8cb2417bcc52a48aed286b2a56dcd19a581ff9a346d1c99212deba623ba574081e62275d24324debd01f14ab7142e870fe07baf82ddcce7e3555e238fe69d57b06305b0c44e487aa44d468dc25c61841ee57f26c88a016e9bae31862cd1d67aae7965ecb249456f9acf020e70f35adde1267398a3ddbfca0af112c7fa44fd840adb3ec23ef607a103ce7d2650626e7025b12fb0676c41f529b059cec4a3a33555889d9a653c63b67a90c7fa077bfa4a2f18f9902fdc13088abb23620bfdbb6cfc08a9736560e3aa2ed484d4f6e1c8319098b49fec50678ab56d08ec6f9683926adf496378e47e69ad5b1e8ceb58667f915cc9a87d24f29ec94ff1211d686f41f89baa0a8301f4c5b8543aef33aa4b12a1f567e7ea0c0dad735d45dec9dfcb5305770737bee9a8b6c9d43a0de8abc2c1a9157efa34e303ed896dfdaa169537c62ace0df488808a7ba2ca9bd5d2eb6d785f0ff00628d1e4452dd8f6b4e95be0045c5910724ce3b14a050f9334011ebcd70cff2393276e3783fb220b2a7fa0240590c4070fd8c9d256cc2cacdbe748be52f0b094a62441a317879557b3df051769a9a549653aa971ba044efd897b75b459b20d5d5916a3865025ad1a172e93a8cce144c916eb072150f7af2110fb848affdd9abfc0f80c80aef23f0756b6ef6925f0e23f156309e449fd03aa89cccbb69bf36359e57e59e8d171e4f2f8a1f8228870935be4b4ae3c5a8813095f4534482c17008f4d4c25ead7570e51fd2d0d355f675f06c671f2f701c7dd7966310561086cfc739736c69e7902c6c49d3b84584aeb90b64968d4278ca7d0927a8738407e281d097162c637825313ff85518f716dfacfc698ddfe8dbe05b27b34991ee02cf825232edb64f6793bb3b11231a7d3e739e9f149653705c4cb655eb626d112a1afc804ecc93435637da1e03ea95df5470ec5839a69032f772b180475900b4d436bf722504e8fd4dd8ed4bc82aea60461b55b0dabeed08fcf480e4746aca0c6f95e68ffd18c6a58c401559564f4aa81afa0f79c9512ebc3cba41913c49b8d3b6c47e9b9640ffb11e56acc9bc51d05ed34e729c8ed9bec7bbbebb3a6987ddd5d8ae535f305a29af6274a4d987d51ac349a366bfb6875d02ab136014e63b3d3e876f55776ad4dbb8763e6e324255f28a6d99067cf634627120ddd98ee4563acbbc68fa3dcb071171cd8d530688cbb42be74e87e8d0ee566276a48672e0efa6bd6d800da6479cddfff9b19a50ac988ea9c9dfad31228908fdb1f3b57fd1e3f97f47a3426c9d2275bfd35c15f4cbe62e6c3e381448ea31ae0419edaf38d3c125da074f54c93a09dfd4a80b1782dc4fa98b37efd4c3adf4ea2ca1ca9761db5d5e940cce5617434d96a17f3fa99791a861e4d3da17a211b4a3a8d4f21059bf2f3b49c5a469d11bb16eba20f864999ed8548328c23c29700c7347ae896ec8f2387adb795c776fc8a3e62d249973a7aa980ee1f9b61f12dc9610f39b82a2d2c070ea6abc13a6cabfcb6ff61887f9e1c087c24dad9203f2fc7abdd40aa204a8b704fd2a48a81b0ced0a4428999bada8e8f577f23434c05a0b8396a488bd0ff987c44d90532535d8df47ba63e221846b4dae1aa945de425611ae42fff0c1145a18aed9bc43005598b997cbfbec85a0db017dad75c519813a83582305af3c4b5a55de1192a7ef3d72207146b79b493dc4327083ad7fd8b220d3081e6df019e0af6dd8dc85d21fc112c2a059085d10201172b6dff2819d35ee249408842194654b286afdb91026728f56d45c51808eaf7af099efa8cfd59d64c9cd1b5d22035a151814e877e30640d140bf7ad18b0771f9b0c7a7d3a81b91f54cc567aebf00806456535b729c9fdc38bd8371330b96cbb2f0963e5184789aed73931fd7f2f153f1b2a3c0a069c84c5a7a730242ce7a9ebb2a940cd2c6e9eac777a8671823601035aa3decd0692600d271ffbd00ab880c0922bb7542adc1049da14570ff9069d734b61c9c4e67c6cd533b4917cd2dcc1d9605f4d62ece66f3ef4dd7c051fc9802f8ae7e9177b166a937d6fe64ba001b5ecfb778951396c085239463235b4f2ee70f7da50040b64e18d53db1c5e270ca9da6a78f09749221803805bea94cdc3afa103c6dde2ea13b95741358c9766b64c5f840c2ccab512094afd3a142d95083ebf3175899dba892348f415f12fc0111962a5d4d6a9809543e85b86de446c689dc3eb565c8687f3f1bd5a90949c2c1489740d54bb5e844656aa165524f50649962519669a85651e5682fea2e5403ae89badf632b20ee03472ee70ccccac1001df47c6f8f625d04f3975cda2f4dd7ef7cd9f1db8643a70c75139bdfbb19a83a6d5900d282683eaa72322f9e75885a0ad8363162582c3e858c9006509fca5662e4cb0da25ec5d87ac3738d0ed3e6575d9162c73c10890511f426389860c3e5dacec35d3ac2ab9a1a40f3835e66e6de87e827633b2e5702ae755375ecec62816e67ff6dcde9f90bcf8531e5a8ad2f69109119d9e217cb18c333eb34a9c59abec21ed48d1705c9a71c7e3de4e9c762aa71fe558baf16df25a40fe460730016f6fdbd92609dfefec8f98e0fd4f030c73cee01f3305cd99f8a0f7eb71978550fe4c1f82042219680ae75d902bcb820a855887a9370394e0e4ab2b522712732b4329863f5b1690803c4b4a2d759ef741e48890bd0d0ded7d56e15b3eb862706029f33ab38ce4bd9671cee59791dfe5ba7a180557927d60dd3e87624eebb015389e51891ae1115c364f753d9ac5648ad3d8099369ab804939fe98e799f658adb51fd91885e757da0a447fbcf7e9349304047bb467974cb0bde7405c96a9a6884379bb4462bbea5c8ec03644d1eaae77f672fc3853964f5bb6826c3b73a0872d88e62ab39ec3dc7b30b750909dfeec5cd5432006f0bd55a12d03e399758debda67f7c5644e404b62c6771b96ce98d772b8efe195144fa43b4b9ce7ef037ed4e6850a179dd181add486b13940606eadd2bbb5059c633aa2599b233422a289e2972527d0780e5b1c36c42516d22f4965cf3e88a4aeb169e8f588d069755b7c45ef7022d42e926400450279ed20cc7f0c1f770620e732da8a542383e2f0678ed1d93f0f57ea3c40780b08d628afb4c6e368988a2b9a7f2cca89571cb86b5ef06a3379816e9c4ffcb068ade265cce1adf2652f95483203ed7b4933ad835b791f179f2e67fc5d5590dac0c141cabb80314c2f0ae24792c5628c4917745365959d4e8f1a4565a086eacfc10869fc61ca13d16639bf0a83c601ecd7dd1bb145ed57fd995c061f21a0dd1fff1823677c68b4fe6fffe2b385b518adc6644fc3093b313d93610afd28b61aad91e3253dbbe0d7be8621d4eab8e70ce8da8a0aa44dff10ce2a1737b5382818722152122b86904aa3a5f53c51897aa007bf33bf41132646fd4ea4cdc63f937693f31e0a3507cef2df225e1b71dba4e85add7877c7dc0a591cf1a56061b443f5be312bd9a8ce861b71ac4543728f1c65ff46eb7910ed92fdaf6375fcd588c7d97e5c1974dabd0e164d7039a954c2d8ff6f7337b1210cc6ddf222fefdc624ec9b5f837f115233564d13bcbd4e878527a1ddd386134811ed1f49deb1bd6326351fb42439c8f36aa39c154b4d933dd86de84e8779325108ab4fed8406215bf946ac93ca6c9efba7c1333b5683c7642724b173f15b09f453804bc78ae6ddd0c550e6e3eae63f7a576c37be37a5943a5abd2de95528312facbb4e713c64ef05c240d8fc68ae080df80df2c9b2bf7d816843da78b2b7a22677374ecc494b0ba5e68390999df1c4c096bed979f65c0705aa286203b263c6fca7275f3dda8b3867ca1368e2d271f5acf76107d701b20d0421a7ff47069d808bec5dfb945f6b2ef63d9953d17ee255cd451d3f279cf3bc61e351aecd4856cde48b3d05fd64d1d1b105e63003432485f19fd0856ab3d2f421bb8e48b6b1cad235416ba9c859dc3bb13a6be0381c21c295faf03a3d443661d7d2b6c579191a0ea57f464d48ab6761128bdbb03b320a60f7577cbca53eee6aec256814d6433c208fa2318e97afb26e44b39e1293d6708f1e0a10e850fec82eda1e2cd453c48a8475b4103efcafbc62bfe2248e4649d44f988f955da9443efc4ed696085ab4009cd687cd30c5fac0a6c41b30c5fb2eb016f15367c6f05e8e33dfc57a8d3de8afb6d83da91b3aa6d2f87301b5788f73e8c708f8a4067cab32afa35c1cae45aab784680e6c9b8039a6a4614f9fe5e206f0d7a9d1a302d7d4109c3a8f172035c9342f18ed7a7b57d9f34ca2da911ec1a41c12ca3f4ddc3cadbfa5a457bf182155d604ca44d26fb23fdec788462725dc722725f77b1af4be180a6e61f7499004e718ec27ade4b72e89296ac947d8c9c4c4e40da10545d1a0ce45a697e1b1271559ed7c3cb269348da7978e37c75cd2bc7625b245ee64fe7e1d4ecf6f1cfd7ace20c0b2c587d29b2864008de2b57dfd5b74326d60eb91a22a646d264104ce32cb37b4de65895f4285dbd254534867909d4546ea11071da3923df4a37f483add317c4f8fba594c8df51c81b3071ce8573ad6b9212d97c986d37b3be77ff6a2c20d2130c5e690aaf3e39f100385d79d78ebc7e5232f6ba054ecfbed1274080b85d999cbe3518095007a52f41185a5053e29ff19c2ad1d3cdb1b8faa1f67b08e669fcd27bcca2959a02bbd8719900942c5ea71279d133d592bc19e7dd211c87b9dce34b7c2aef153dab3a61231baa26a674b480765cc013bc771eb140b868e3bb34e77ae7d3fe4bd5e70fca3ca11c78717ffe10c0a4e6d4b23652808f045216eb295ad75afb8c426d4168901429d191cebac531be678015c58f20668690131576d31f292d5367bdd8c028c934c6785f63b9ca5edef07227852811c013405d7f4b0227a6b68b0b82cd3c12f517c68e1e8bff398e9511600f05ee4378cbcfb4c0c7ad47e6adbc5587d922f4a6888b88b09376dc2e0482f6dbb71600dd5faf1705d021acfce57277ad3c150213f9516c94c9cf46528a6dbf67c2917ab659e646ed464e5d5ab49a4edf227e9ef9eb84dbec8e0d42f441d435dc8eaf4915fd44ba092b6b60921bffe41c22133577c4388cde96d765d8e442ad604c7e7561818eb7352d2bd6ffa71e733c8a7ed94861609b9b7c3fd699f79d9f1f815911dffc66181a139c564f47cb3ed0f07ead5351393f4723ca460a60bc10d2636b93a29d7117ef4f24028a86332193b60ab9efec66febdba2e6ebfed5a48f7965afe06d05b7ed08f8b34e6f0a5d21974c945fa8b1b849067a23f7b5ce62f84ed081b3137043810a8854ba458ec8281f85c60cab0ba7cc5b2ada517bea6b6281628c9fda3ad42996092bbc1d5b74fed2f5c0c6dbfe27270731ac0a1b6371f05a69041340dc1162edb53954dc9cc750b710fe91079c9994f4a73ae27cff12a4c866</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>java审计</category>
      </categories>
      <tags>
        <tag>java审计</tag>
        <tag>jolokia</tag>
      </tags>
  </entry>
  <entry>
    <title>《动手学深度学习》3.1 线性回归</title>
    <url>/2025/02/25/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言">1前言</h2>
<p>从零开始学习ai文章系列计划是个人在《动手学深度学习》和《磨菇书》两本书的学习中的个人笔记，文章也会以课本中的章节分开，即每个章节一片笔记。我会尽量的把主要内容以及遇到的难点进行记录与解决，如果哪里有错误的可以直接指正。或者不清晰的可以直接查看原文部分。</p>
<span id="more"></span>
<p>《动手学深度学习》原文（课本）：https://tangshusen.me/Dive-into-DL-PyTorch/#/</p>
<p>《动手学深度学习》代码：https://github.com/ShusenTang/Dive-into-DL-PyTorch</p>
<p>（由于有时候公式太多，可能会直接贴图片）</p>
<h2 id="线性回归模型">2 线性回归模型</h2>
<p>线性回归，是一段连续值模型，即<strong>提供任意的(x1,x2,x3...)</strong>，都有其对应的<strong>唯一结果y</strong></p>
<p>线性回归（Linear
Regression）的核心思想就是<strong>找到一条最优的直线来拟合一堆数据点</strong>，使得预测值和真实值之间的误差最小。</p>
<p>假设y是房价，房屋面积是x1，房龄是x2。</p>
<p>其中 w1 和 w2 是权重（weight），b
是偏差（bias），且均为标量。它们是线性回归模型的参数（parameter）。</p>
<p><span class="math display">\[
\hat{y}{}^{(i)}={x}^{(i)}_{1}{w}_{1}+{x}^{(i)}_{2}{w}_{2}+b
\]</span> 假设y是房价，房屋面积是x1，房龄是x2。</p>
<p>其中 <span class="math inline">\({w}_{1}\)</span> 和 <span
class="math inline">\({w}_{2}\)</span> 是权重（weight），<span
class="math inline">\(b\)</span>
是偏差（bias），且均为标量。它们是线性回归模型的参数（parameter）。</p>
<h2 id="模型训练的概念">3.模型训练的概念</h2>
<h3 id="收集训练数据">3.1 收集训练数据</h3>
<p>采集的<strong>样本数为 n</strong>，<strong>索引为 i</strong> 的样本
<span class="math display">\[
\hat{y}{}^{(i)}={x}^{(i)}_{1}{w}_{1}+{x}^{(i)}_{2}{w}_{2}+b
\]</span> ​</p>
<h3 id="损失函数">3.2 损失函数</h3>
<p>所谓的损失，就是模型预测值<span
class="math inline">\(\hat{y}\)</span>与实际值y之间的误差。</p>
<p>即我们当前的$ ({w}<em>{1},{w}</em>{2},b)<span
class="math inline">\(固定情况下，输入\)</span>{x}<em>{1}，{x}</em>{2}<span
class="math inline">\(经过模型计算获得的估计值\)</span>$ 和 样本中 <span
class="math inline">\(({x}_{1},{x}_{2},y)\)</span>中已经有实际的y
之间的误差。</p>
<p>损失函数有许多,
这里使用的<strong>平方误差函数</strong>也称为平方损失（square loss）
<span class="math display">\[
{L}^{(i)}({w}_{1},{w}_{2},b)=\frac {1} {2}(\hat{y}^{(i)}−y(i))^2
\]</span> 由于有n个样本，我们选平均值作为整体的损失函数 <span
class="math display">\[
{L}({w}_{1},{w}_{2},b)
=
\frac {1} {n}\sum ^{n}_{i=1} {L}^{(i)}({w}_{1},{w}_{2},b)
=
\frac {1} {n}\sum ^{n}_{i=1} {\frac {1} {2}(\hat{y}^{(i)}−y^{(i)})^{2} }
\]</span>
在线性回归中使用平方差作为损失函数有很多好处，最重要的一点在于它是一个<strong>凸函数</strong>，这意味着它只有一个最小值，确保了我们可以通过优化算法（如梯度下降）找到最优解。它的导数是连续且容易计算的，这使得求解优化问题变得更简单。</p>
<p>这样我们就能求出最优的参数 <span
class="math inline">\(({w}_{1},{w}_{2},b)\)</span></p>
<h3 id="优化算法">3.3 优化算法</h3>
<p>当模型和损失函数形式较为简单时，上面的<strong>误差最小化问题的解可以直接用公式表达出来</strong>。这类解叫作<strong>解析解（analytical
solution）</strong></p>
<p>然而，大多数深度学习模型并没有解析解，只能<strong>通过优化算法有限次迭代模型参数</strong>来尽可能降低损失函数的值。这类解叫作<strong>数值解（numerical
solution）</strong>。</p>
<p>这里我们通过偏导数对 <span
class="math inline">\(({w}_{1},{w}_{2},b)\)</span> 进行优化，使得模型的
<span class="math inline">\(({w}_{1},{w}_{2},b)\)</span>
越来越接近实际的 <span
class="math inline">\(({w}_{1},{w}_{2},b)\)</span>
，也就是说我们在此通过模型求出它的数值解</p>
<h4 id="对偏导的解释">2.3.1 对偏导的解释</h4>
<p>我们知道一元方程中 <span
class="math inline">\(y=a{x}^{2}\)</span>，x的导数是<span
class="math inline">\(2ax\)</span>，同时也代表着该点<span
class="math inline">\((x,y)\)</span>的斜率是<span
class="math inline">\(2ax\)</span></p>
<figure>
<img
src="../imgs/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/image-20250225233408156.png"
alt="image-20250225233408156" />
<figcaption aria-hidden="true">image-20250225233408156</figcaption>
</figure>
<p>在 <span class="math inline">\(x=0\)</span> 处，斜率/导数 <span
class="math inline">\(ax=0\)</span>。这也是该函数最低点。</p>
<p>我们随机在<span class="math inline">\(x&gt;0\)</span>处选取点<span
class="math inline">\(({x}_{1},{y}_{1})\)</span>，此时的斜率 <span
class="math inline">\(2a{x}_{1}&gt;0\)</span>，那么优化更新<span
class="math inline">\({x}_{1}\)</span>的时候 <span
class="math inline">\(({x}_{1})&#39; = {x}_{1} - 2a{x}_{1}\)</span>
的话，$({x}<em>{1})' 必定在x<span
class="math inline">\(1的左侧，即**\)</span>{x}</em>{1}$减去该处的斜率**会向最低点的x==0移动。</p>
<p>在<span class="math inline">\(x&lt;0\)</span>处取值也是同理，<span
class="math inline">\(2a{x}_{1}&lt;0\)</span>，那么<span
class="math inline">\(({x}_{1})&#39; = {x}_{1} - 2a{x}_{1}\)</span>
的话，相当于<span class="math inline">\({x}_{1}\)</span>向右边移动。</p>
<p>那么这里说明一个问题，<strong>我们所求出来的偏导实际上要的只是这个值的正负</strong>，其数值大小并不重要（当然这里y=ax²中，x越大斜率越大的特点能加快到达最小值，但其它函数就不一定了）</p>
<p>倘若该 <span class="math inline">\(({x}_{1},{y}_{1})\)</span>
并非处于最低点的斜率k=0的位置的话，就会不断移动，最终到达该点（收敛）</p>
<p>（当然这就引出局部最优或者未到达局部最优但是斜率为0的位置等问题，应该以后其他课程会解决）</p>
<h3 id="继续">3.3.2 继续</h3>
<p>重新回到本章节的损失函数中，我们的目的是让模型预测的y尽可能接近真实数据<span
class="math inline">\(\hat{y}\)</span>，因此损失越小越好。 <span
class="math display">\[
{L}({w}_{1},{w}_{2},b)
=
\frac {1} {n}\sum ^{n}_{i=1} {L}^{(i)}({w}_{1},{w}_{2},b)
=
\frac {1} {n}\sum ^{n}_{i=1} {\frac {1} {2}(\hat{y}^{(i)}−y^{(i)})^{2} }
\]</span> 再解析y获得如下完整w参数的loss函数（手打公式打麻了）</p>
<figure>
<img
src="../imgs/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/image-20250226213039241.png"
alt="image-20250226213039241" />
<figcaption aria-hidden="true">image-20250226213039241</figcaption>
</figure>
<p>上面公式举例对<span
class="math inline">\({w}_{1}\)</span>进行求导，利用链式法则 <span
class="math display">\[
E=L^{(i)}={x}^{(i)}_{1}{w}_{1}+{x}^{(i)}_{2}{w}_{2}+b−y^{(i)}
\]</span></p>
<p><span class="math display">\[
J=E^2
\]</span></p>
<p><span class="math display">\[
\frac {∂J} {∂{w}_{1}}= \frac {∂J} {∂E}*\frac {∂E}
{∂{w}_{1}}=2E*{x}^{(i)}_{1}=2{x}^{(i)}_{1}({x}^{(i)}_{1}{w}_{1}+{x}^{(i)}_{2}{w}_{2}+b−y^{(i)})
\]</span></p>
<p>因此得到如下更新公式（2是常数所以去掉了）</p>
<figure>
<img
src="../imgs/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/image-20250226214637799.png"
alt="image-20250226214637799" />
<figcaption aria-hidden="true">image-20250226214637799</figcaption>
</figure>
<p>在上式中，<span class="math inline">\(∣B∣\)</span>
代表每个小批量中的样本个数（批量大小，batch size），<span
class="math inline">\(η\)</span> 称作学习率（learning
rate）并取正数。</p>
<h2 id="线性回归的表示方法">4 线性回归的表示方法</h2>
<h3 id="神经网络图">4.1 神经网络图</h3>
<p>线性回归是一个单层神经网络</p>
<figure>
<img
src="../imgs/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/image-20250226215105779.png"
alt="image-20250226215105779" />
<figcaption aria-hidden="true">image-20250226215105779</figcaption>
</figure>
<p>输入<span
class="math inline">\({x}_{1},{x}_{2}\)</span>等参数，接受并输出层o的内部的每个节点计算都类似
<span class="math inline">\(y={x}_{1}{w}_{1}+{x}_{2}{w}_{2}+b\)</span>
,然后改节点的输出为y。</p>
<h3 id="矢量计算表达式">4.2 矢量计算表达式</h3>
<p>举例3个数据，每个数据2个特征，进行如下计算获得3个输出 <span
class="math display">\[
\hat{y}^{(1)}=x^{(1)}_{1}w_{1}+x^{(1)}_{2}w_{1}+b
\\
\hat{y}^{(2)}=x^{(2)}_{1}w_{1}+x^{(2)}_{2}w_{1}+b
\\
\hat{y}^{(3)}=x^{(3)}_{1}w_{1}+x^{(3)}_{2}w_{1}+b
\]</span> 现在，我们将上面3个等式转化成矢量计算。设 <span
class="math display">\[
\mathbf{\hat{y}} = \begin{bmatrix} \hat{y}^{(1)} \\ \hat{y}^{(2)} \\
\hat{y}^{(3)} \end{bmatrix},&amp;\mathbf{X} = \begin{bmatrix}
x^{(1)}_{1}&amp;x^{(1)}_{2} \\ x^{(2)}_{1}&amp;x^{(2)}_{2} \\
x^{(3)}_{1}&amp;x^{(3)}_{2} \end{bmatrix},&amp; \mathbf{w} =
\begin{bmatrix} w_1 \\ w_2  \end{bmatrix}
\]</span> 行列式计算为 <span class="math display">\[
\mathbf{\hat{y}}=\mathbf{X}\mathbf{w}+b
\]</span> 原本的损失函数变成矢量如下</p>
<figure>
<img
src="../imgs/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/image-20250226221037001.png"
alt="image-20250226221037001" />
<figcaption aria-hidden="true">image-20250226221037001</figcaption>
</figure>
<p>小批量随机梯度下降的迭代步骤将相应地改写为</p>
<figure>
<img
src="../imgs/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/image-20250226221057789.png"
alt="image-20250226221057789" />
<figcaption aria-hidden="true">image-20250226221057789</figcaption>
</figure>
<figure>
<img
src="../imgs/%E5%8A%A8%E6%89%8B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/image-20250226221104631.png"
alt="image-20250226221104631" />
<figcaption aria-hidden="true">image-20250226221104631</figcaption>
</figure>
]]></content>
      <tags>
        <tag>ai</tag>
        <tag>动手学习深度学习</tag>
        <tag>第3节</tag>
      </tags>
  </entry>
  <entry>
    <title>test_my_site</title>
    <url>/2024/10/07/test-my-site/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="e1d97e1a8ac8c2211e16b80878e09b93b4fe8748e75b22757bb81c1b78cb65ad">10d79030e8222445804370796b90fca14b3382df4730eb0fe3a9f1aa6acbfdf977f308135c251cf4014cb9472e5eb4c7010efd08fb0e3bdf1ebef1844b47b7bbdce99f87d5af857ca0ff659bfd7ff8403889b6c438821c099230c528e1e072086db67c3268f0c3fbef4285ecdfb74d10c44a10a54b42bc087ce2562c8b1b0d82c747e40ef6687175228e1aa7de665ca0630685dfdfd49a11eb58a99d311c252752a333719030d038bb8d865dd3e440bff3cd209fe3ca3a26fb5772705760421ee28b997bb286ef46d1032c18074a8e2467687ee2de62e54453291130c47094a422bc930e55aadd9d024a587e442f34bf75eb6a08da22b9f89a8b762f5a38a8e3144e980f5d7731a6c69dbdef7260561ec4d7de4af1b2423a2032be5b43ebc41d14c9d3a7e186a0947551028165f104eec39b0dba0f0a31d9c005e6f7d0513cabb90408ef7c89542bb23590f24368cc22f184edbb836c206af1d2ff2bd8ee6219f635c56a2c0622a86a0941de086df384fa5082fbc773b66fa4c77defdf4bd9d39b822ff42df9498af0500f83944a76d10a9c10a4a3396ba60c86aab892c8fe5a2b6a6fd389e92c65d5a03e40fa122568da682f20638acbecf6a6b20ee43c87fa37e41842faf7a46ec5386d305a92eea65dd1997d4f2fb12ec0748a3556a6d7227e7e159b6e71683e348a198b6b37c20ee8e0c602dea347035345b7285257e960f3fca955c08d8b3de54c34bbc9529367569c853707661ca74e66ac783fb5c6045f0e76c9b407ef665d07591e106fd284aa7b4e9127c015680d360e62b9b267bfe8c54a044b5b75965a6c00c1200a0ee99b868ec67be86456fc7bd320791af861883d19375c7a3bc75257993a9a5ecd75dc72b16c35afdadea8adc0fa16ae7a03126e31113ba12a0daef356558ca4a7e0bf2e61b08f118aeea3b33e0791f97e678f09671491900a166cfdae900191c27c9362434082683ad0bfab8aba7578f65207cd9f634b0e810db7c7afbcf4ebfe0354788c3322a9042dcde886d26bf3e59ee3f09ad5bd55d832fd9905656504a4f16a9d0c39985bab64ae13f5f30328ea49099297b1d0da36e2af13bb646f307076d8c00b5517d6d0ba8a493dd4a1ec26f6a5830e20421b1fc100f38436161dac0be25f3fa25c8ae65e19cc3d51e7ed64c89a9d9d2561ede1cf9216ef561325c7a60bc7ef48f98c30cd6895a2eecf8c1886d7eac041361ab4bb5300b3ee5f8142d2b39a2720ddf4e7276accd79adb741780239e89c0a677067ff88b96af465f8f8245202fae30e4c0cb5f6f5e3b3b792e27577c918ded9775e388d0531dd9a4b87300710987882b10e46ca34fa4b5583bc09ed27af8c44a7e477c190275a2f951483418aecfc3d3f8753f8f5a12df02234648e60bcdfa68f6ec4e84023b39e70203b8c0f0b769522fb205ea6e837ad9a5aa</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>web前端</category>
      </categories>
      <tags>
        <tag>jQuery_1_test</tag>
        <tag>jQuery_1_test2 3</tag>
      </tags>
  </entry>
  <entry>
    <title>jolokia rce vulnerability</title>
    <url>/2024/12/03/jolokia-rce-vulnerability/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="3b979f00b38bce91e34d3cf5903eaf9838bde0e6324376846f649282b17fc7ac">fdb05068858ff7260098e39ffdf8ccc8145762ae73171117d5db94d5763f7e7461ad66cf0a0c863914f85ed2296584f0d977cc065861af97408d6a4f21dac7d725ea76d45e9db55be3adadb52c2b96caaf8645a361e1dc098a06b52cc0d5e9df03c3bedf445b6a23af40f0662d99c30f72d0bd5735bbc41e2ab5f62b4023289e0fcbee987baa39e248404efac020d0bf15777a6d81abfd6b54e91f325c98d49f76b547a18052227fc80a904d9f7ad41dfa97ef5bfbe5a53070911f69cda1b3bca1a9f8466313698a978c17f33a793b4ce2deed0bc66e0261d5922d76c590955e2d1a28e80ca5c132c24ace31b19c0427149c661fe3752b37234a3a364fd7ec726e332a586781b0862ab01528f8e5d5f371e9c43deee9fbd4f2d3f050f1e8fe694f5adcbeb33468e26d171f901a7110da92072c20b300bb463bb2fef1b7c0fdc8c7cdb4fabc578d8a8e2f2345aaa1f4bb0b1c05895daca0897595a94c724b2102de010f597efc7f105e3541bdbf3b30232f5cdc5c06de5256acd99dd3a2b044eb405b094cb44f51dcd131eaec8948c5f4e4cef32dd1e4db89c77020b0d54603d8ba8dd968b366cb8fe6a6806854688fcc2e156e13e3451c792d5d3eb9767818eba192da1430a11d253175acd9a980e363d46562c39e3f38dbf43a4f86770db72331cb491e71b59615f39b2b28e72796bcc5b5409c3ba10c24957a1c4edf2546967a0ba140aaadf1521557af94b7f5fa165e634f158b271364f7a243aad4b9cd09879ada0e9ecf8627a5603ac9eee825c821ecb1d0f72138360ccc896cddff564d6b52a52c3c12161ace23fc2cd4ae93262da3777e4fa41303abc755fe6b9c4f027d35dd7fd351f603a9ddd73a26a0bde41c581c1a4dbf99354d485ed1704f79f559d2486909d152e58ae3523bf95407136bec13ae1f90ca2d56912aadd75cdac5320ad983f536c413423f3787285dec66ff30afc15a6a1c3a43c4a0a4dd8a158703afc3bbedcaea6616f0a89bab682f96339f9b5b5ce0c673c12444ed4b668b8944ee0b4745cf2d1b849339547836487ef943227c0004cc569e0d3cb20f391795c059683f947e25c5e078a1fbda1ad8c2b01ed0f148f7b36c011f0ece8c745529c13586bea5abcc50c253269ad28d30272470f024c824e8ba58a072aa6f976c0fcd2a088a639d4dbf35d38194c6349af7d522942c5b7cf4e93aec515bd03b1d44aa7c0db7660791cacb159396a97452cb033fd9dcb36b56c9b35a7c6229fa922054f9f2b612bcd02da183ea17ea82f912c2071b6b43d65b82c46bfb0d6d285834a323c6fe7100edd65efd5888f3baa19cd9e06d67c954ba9a5729fbb23e6333af62fc6f661996f8827f20874bfd36d8dcc316718778f4693fc67e3db1f0915c3e3fad2e4d2fc670b479e905b2714010ece692528568661fd66df876bd4d0f7615bea32dd54b6eb99211818eba6239134fd4defa0765aa45360aad4da309bf4f0d6b76a071f2914094974c5e918fa7499bbb158469b25be08aa133277a9f71bba2cecb49c5cc2df1980c845f8400027ad3eb921b5ebc19a5c273489ef38dd2d699fa91faf95af448cf9d5302336f40281e9cb46245854a0b7b4810aebb1c7606e666c0918cb18788ea20fc43f8cba8faa20ccc26f4dcfefb555a846f27817a26cfc76273487a1fe4aef6a5e68d1770f8d817f2d7d50f7a200449b944f1361b6133c1a7bdaa979cccc41ad98321438db008777e4a020233f595e131892b2c0b7b3dcb06d012713a79f029e6fdb34a92d309ca9c49c527ed540b200313aa7216e14a012e234b76c71cbbf70b78d166939d16779df543234f9017dfab94c6df755bae6df9fbacdd1952cc7f2c8200cc7ae3209544df202500f46b88c0a4fe5e3e07ce6298ac0449263851ab795382a505db647f6f1119bf6184dc136c09fa0ddc953c22be056dd7ffd4e1f4933ea0a1dc360fa999365d82d2b0ab170333a52e0904ad45b9df250ada8652ff46b615b1659ca057ebec1343c9f33fa1c1b0758358e85e2649904358173ecb167bcc70593cf7e45afe6c63942bc213ddedb7ba994d3de36177819013f2c0928471e0041f83e4a97c5d4b53d92384281506a92076c5926d9ba782d3b484642de9a23915005c096cc78091b61dd782b7587f677f4d8c814561c2b0c27964f139a4ee5b72c0a63e04dbbe542decb0a32062c75132b54bec4aec9cc34a990ff92cfbedf7213e6b516a562b3320a444daf2f79042d51d1d098c3a0624f11d83acbab1213c66597259d49f57a977ca36075850e3f294ea5cdec5cf0109bf5315dc2a1c36c3d903d07ed9cb0106f9e85c7e9d11c418cde91255690b1a05f98c2c9a3419b1500cb80040d529ffa3ea2f267b950c60093f6904eb00b69a1f6393a98bcd94ee88a3f2004bdfc96800a473cfe4099e23ed80fd8a5ec08ee2da8badd04f6f44d3910b11a526a551e0f9310ef1da3729958bd99ba9d22a6abc9da6d8ec3871b6eaa253eb6398c132903e104d195c2f1d375b54068002d8a39567d55e5d85e3a8b58463a60730f459b30ff3b917f7b256bd8aecbe5c226d661dcdadf468952b237d52f629659507e2dcec16f2ba0dc9220920ceca614ca6c9e74e8b4afd4aff62c697b7074942c07d1a173c67bd4eacb23927fefe852c5a5d9d8d336ccf8437f818f0e39bfb8babe01f0ee18f98d8df43d0fe0e3d7a240b7ec7d3634d1f2893657f66acb5058d9b1d2294bdb28e67d459c68e7c4f572294ee73717fa310f44f9155793591632b866a3d196069ad842c11836a8da2a989c1279ded6e548a63fc9f5e78d9aaee25b44013ef36071ed3055506157a1fec13335b1aafbaa09e8e4e5f4e66e0a85b3454b90491783c494f2d467e2c198a5c8d575ec93a45d1d8a8920007f587b4c6c9666c15d858aeac3dfc5c7f20b7fe39a9ffab6e85467129dcae0323955f161fe63c150ece6a64622b729f6135431c7d77efae2b9c4bc5f50661f77cc3cec12ced222adf55e8f3e85a8e9672bafbc3377b6f994d4b0899f0958e5b7c1c62619f2a339c372128b7d684a17a91f5295093d91055d08c38d85dbd151356c9c7befb60d527d6b00b899a8a0769e12596a8bce94b3e671412f98580496a737c936988a9ea461cfd080f37b415868c4d0d0b0d1159050d296923565ee442207a293162fa611441adfe94d49fbb5061a1dbeb71d0b411752093bf0c7f7aae8f91ea2e3cf8e909a7d2e076a2a731b9b59d2c677d7363b4d8999e81eca35abda44b799b0fd0382c3608cd8bba11abd263de2d6d89a670ecf2e0c430256b1f74630525f3c2ed42b4117a8280c4ab8264d436e7e6d309e85610bf6f74942b51cd9b3e25abbd83930c5c176956d0d55d9bf079776443b4872cd36c43e1abb1e010ae8c24cc1095010142fda33ca61b9f532c334d7ed2a27697fb92a1e83f4f411ac078dd73be6f6bb10bf30211320a97fbc843048fac6edfbfbcb8670bd43501449badc9285dc9cef1c23f15646290b05f8daf1f57831cc760b543ea338092f74a6de23ee6aa28254fc4a70251df782216cf0c578e7e0ee2f44ef845f8b625dea1e465d8e882984192bd3b9e33c5a32907fd361a9e2b849b9c8e7073c4883b924daf06cc188ec0c3f0be222d81a68869985b4fc7ad9f8d4620c07345291b7cd376ae5bf8f7ff18d411fea49c7292b33e80e337685d22b4e52304d78b7020a461fe64280571b6359e88a278b213b5abdfa37cfe92ed7db7b5e348b44d6e46a9e10c517b140180788d7b23db4a4358baed2f21a5ab23923e87cc3e345dcc812a446f328f7eb8e7744d20020412b16259e67d1d10e1c638cb81177d40b038f8b1b91537dbeba699941ff1c56ece468fec609ba36baed5c391d430f11de05c1fe1811ef8133441be6f45be0c250e85d361568b9b006d91604b831dbf0e7715c3f745e23953dc1b0e4f52121b5d0d345b335da9ed8291ba8c4ca40c6662c3cdd1f5dbf5782cfacf61d9ad54923193e9b02441679fc3c36ef84093628e8db37dbd0c89392904dc0683fbb05a78178f217da0c7d0eece88fe56ed82ca8ac90279919bc733ce5d4c837bca0bb4abec25969a33f9a3e8c08791c55bbfc0a276c184daf87359ccea4ef76cf725c54f2573ae1be826dd2fcd56fc34d296c32911410251a913dac801d08c20ac6f2b186f012859b6bbd50e54ffac7a726d6ecbb56338beadee68e65f434318a662a7c8ddaacd1dfe31f4936614e1cd35bb52c5f88132768468d3daba16cd389e0cb08602fafd5103d3ced2076de321bac4edd1472c8086b8aa98d3e7cc798d8873b5b0dc711799c7b7c7ebcee6eda7bfab083c67152a63d0fa1ebeda23b27825562deba20a47c9b02b273613e35ef4355e105c51c2be2cdd418c1f895867e24aa29fe1a5567cf2846376aa2d52371ece860d035803b064d47b731bc8fad2ea5711d8ab57433149424202dd96f1f7bb78c2d208244effa1a31bf73381fa7e77ed486185d3b583c5d0c5cedccb74cd8f8a20b65e0f027302d7059f36e98819fd4addfe341cdb7484b7d0358927f72a08059701c3865c9f4666b48a62470314530a55cb109fe482bd346136f7567d76bc8517d7a661b22272ad13990af80fda1b12302b6e2222ba4d974f755c8fc1234860aa81b7882681cc230d1dc0594061bd52505d69e9613640ae502c40b14ef897c6b05fe6edba5c379c742d08c678ebc8e1866256d644e7a947023eddd6f403048c761d346f8aec7629b6af0a0cf39ad0e3fcb84453036f3ffc2441d71184c6a5c43b9c605b907517237cf8d5e2ce4947d1cebb204fa12ffaefebb53377166ce47819f1949b8f4c79b12264f56797d29b158f86ae65822d9433d867728ead3928134c06113c8c5b7d994c0f7470f399ae1f605b5badd31310b5b65363181936fabd33e19ee183a03fda6776ddef18f56adbd186222845519962c03d017177c9ca782f56311743d15271c3f05f23e2bba43ecba38eb15511a7ba07bef4bf31ff180cf2982dc77c1577ca8e9ae9ecb65c1238d481c0f54eef5898b72f12376aa1787b69ff2b3aa313b7f5f8db3b94bceab1345b02cc13df34000997ef925f3a618878840a8e6ff759f80a535ed8cc718aaad862800af54c477643d99d4d3696daa03f943bda3f6af3de9c6e7398f62b9334d5cf3cb5b60534dd55aafb0948907c85d58db24e198ac2e49926ce9a7f7c71bf6a97ce82bc45ab06a45b57579fd710a563ddcc5a32d239a777f13d7c09e1706ff67d4aad6424708e2bd07f4b6076bbac290d2b2102af81925791678df42374b0684f7c3346ec3a494fc8cebd95e0c4a165a049eb1e30d25b3440f850888ffee9f79f3c88ff8a7e874c719f6c8fe0ba02ebfb776e2508e2a4845bf602e73225d067d902da2f932b9e6ae7b87029916b20716bec6f2218e5ed90f15403d222fa5e1b9a95aec4f6f7d2288b7839e65cba9d3f6ff327c34075e4a759c3b2014f07a8fcf70ddd34b3a3ac67ec41665b37d1f8dcdda06276dc71bd6e96aa21af58cc45f27bef550101d7763cfe26005223f2536e4722e93ff036adeb493669d5454e7cbef1d9fde847cfa595b160c96e818ea92362fb416a9b5525ab31fa92e6750e54e38487157e0fbc0dd3f804bd7374a24b26be5c9afcb3987cf73d2b82152021b89fb30295c1418b784ff9d9cacf82bfb158993ac69aaa4776bd3cc6b3d040b94b7dc5f74d8d28d8ebcd1b19de4b1508f6247eb57e6d8e44ad9dea78a17bb25ad5049944c51ca1decfcbf989bd2a92ea48863f10a8ab8c3be0f8edbae8d98e15887615cf32b1ed0865f18568f1479b3086b6736bce49135f4fa68aadd8de7b4bb261a1b4f7bd64629185cc6cb53d0f623440ec9d5a9b7abf34fa963ec02809263b2206b3c7bbaad0229e4eedabd6ba8fffce6b440ff2f250a3bfa77248ecdb5822b1c200c8634354b509ae90c8fa72dee0e538971151d9ca04750a08bd8462b3c3333191de9747455556056b889fe7b8659c96a2c25b596822540cf067ea5a1ae71ef3c13cf29096536aa74c9831b92b3bbbbaab7d8f0da52e8f4383340bd8d56eb571f8523da686ed246f302f01af3223c927932395d30c4e3d4d76359905566744786bf4aaec94fdd301e383de279f56cbf37919cf7046bbc31fbb85cd5fb841908885f3c317f4d5f3d90d6151257235a7de357e7d9368300895fbd1d6fe060423a68b787ca5b6aef06a40462b35996b4a8ceea11b04e1810ad4aa71445737ac9b96017daa60d521626e72f6d6ffffeb71ff82b3752b56ed5721f238fa18e91f649c4575b626c7eb8718510a417a65abdc2870e155cadd69681db01c826fec7e11377366ef64d3b06c2bbe931b1091bc443b1ec7b1fb02e5fe0e0e4f7aa8152048bd36199b7bfd6bc5115a87b35303474a6e082f810808d5f3694cb48445b56d22d864a2235ac336a2c3608b569603bd3034b81856023d364cacd60d76305c8641feb4409cdfb3baaecd03721ea8b4504cbcd4e4a8bd82fcf53b69fe88d890175adc1ec5a2ef266d2bdfe3f70759267bd4b5a53da5a3a061315b452ac4d8fb2cb1158a8d4397016a6356b029c65de70d44175c30443e7b0fbd9210e13d7548eb460b1fcf050f4052254747d7627a57d32959ec0c7efcdf21d580129fe2ea8d22b5fcc842184d7f0b967c798eaf8439a30dd7860ac7157d2096c2c8723cfed7ca656c178289d603051b8a81454efb536fdcd4ad5e8acd5b0ee38615d2df542d45b5dbe363b205f7c65dc0e5118baa8a613ae22f84b8ed5f209a0a469018f41520de2b0178523faccc8e7a4cb0936b882c27eab35001ff715292327b8ea6f8c8439adae548dc0b0527795bac7efd42ad71e764a7e80927c884c4724df467ea7bacb2af88f77c2c20907f481face50a002e2cc6c272b3aa7046ca12f26a02b5b17c97e2fed10f0982fe2fa553266d40d80c9d3dd60302e44003fd94bc4a1368f4834d174d130618df47297559a4094ac536308947bf900e7178b2b8a0f05a394997f829566b4964674cfb529823b30b32104b85627505f21670cc776ff96ef65df0c61c7b2d0904e0e1f43de6b9ac739268efe0a5b2b215c4a8927772aeeaed2d3368ae9facc485e956006a03918a49230eaf04e3a61d85143c5c87d916f69f3904aeb9d561c3904e1b2d07b13eeeb8cce2b31f1aa78a634bedf1ba17059d49b6a676513c58304319badec6d470662b5d81b5837c12a3429d28762da897e41bd8db1f719fffdeb5cd10a83ca16e8d45b063e1dbe9792d030ef0eedb8f208cecfac64282b46c31a04a1883bb31d96117b484e7cb8e23cdbfa2113aa38601ae4db7ab03b6a90878dbd759e9bb3a7972a12d26e867431324a9bdb2f4ba35f419da87c1a64c491ae619d5bd06d5905b9d3668d65aab06fda8a6f10cda2da84b6585865c7ce49f5e0311a92053b02d64a0849bc3daea6c050a1626cd3d6b8e50663b685612b7ffc12219d8c490fdad3c937539e2045f7e2316d2190779aa5202b9672a3fff4f33a569c1d57f77161b63c60a9df0358455286a16139ed9d132e4a97f6b0437618ba7d20b734c74e165808356575d86cc7e63ec83ee43db8db9f0dadebabe283e633a3102b0c1303f51e1727a4386c88f7baa5b0a9c2f27d3e73a34df4e4597679a3241e2c11d366aa91f86ffb2ce7ea2ab32684e627bb966ba9f43e140d81776c72796c38927e10c478fa5b9f82a798edecf3c750d444860e74c3d9dbb3e13ee2e2a83a6c179e974bf6a60f8486bf1116deabcfe676b53236f65c74b4430f7b7112e4f3f233586e6b7c7c3ea4ba6b3c4768f88e731c9647c39641ff6cd2bde37889d8c1c27b1b52019c32c91ebd4be087f10c72f843a48c8ff72e50a141f126568d8746239e7071408fc9f6b9d61ece1b183b32bb12e8ea4c3ad53108565364e8665d226cbcc85005b7f35eddad96c33d7d8df00674641eccdb6d0ad83e614160920936681c1acdf29cdacff5c6de84de8c443ae8c737fcd493f25f73753e4ddde649433eb919169791d094e7c4b53544226e969aa3089afeb26d004bbee3be3b287d58012731e9ba1a21c12fcdd43b10734b7289919f5057f2c03d377f39743d239fbfe486a54fcfe753208b3405be67b4d6669617c6478d8e9b2684fdf43b15b4ca335c279ca05eb9063de89d3f0ef9bc3f0d767a0b8ddb74d748bf4e1d3eba210f50edff7b5a66cf32969038627f7711fb3cbd8868dfde232c833c138023d6ef3875e912c6aac1ac036b1917b42142ca0aeb5c50ab880c42304dfafcd259ae185f2104ce3bd60f35a45123ed1c0c80fa7ded41903a61ef1d1dc9ed522b194486f487cb24be578a9b75699fb6fb8a02d842ce55243d53f800b356e468de83ac578d991c1677cdc5e051aa8a7937a433b0a60f9ad1887bdb28c763e9d3c2cc04715606e13d80750f58b258e9efdfd3f27af5446c70d66b67d3aa9f21c20f295e1a4d9ee8cea9f5b4600a3fd58ee2cec7b1482a8a1e003acf362f2413b2b568bcc17faa85223dec4debb55401f55af918eb0a61591ddba51451d7c319576c324dede32584f630becab6a4ec84899be62f7cc20ee99e40dba9cdfa31e3b02e6746af7a15519ac0f11d23e0fb30f13a71c75e107734dff5e4476aef7061658ab3985f996839de500faffc8fad599ca464a1ef5590ee0ab9412dc8f827f0f17dd56f274affa4b76014a1eb4b82a1a3c4a7f08a6671add2c75ee30d84079b90b7089f6b760216d6cae74600ef21148f33c58412ca50a1771f55afba2291962de33298ddfc07113934b431b69c41f9825dd50c4cfca50cedf5acac50f66541f8d368d01daa4de91b9313e8321f679a5cb6d1b7d72784d6155da16bfbe756f93586c4438012e32db6213cf528aca638d2d34b726eca96e5d1f90131d0f0fe03c3f16f82db51bed00476a5fd51be58484c89d9ce9f0d34010aa24ba902222495c1bfdce84c75d6fd19301312c8db8346bfca640b977feb1ffc9d0526f07f2c71ebcb1ac0d1c6ca281e182a2d56a83838f1a51d263d86d22a5ad78707ce91599d3dd76214723d19fc3f8a53007a09801e6e1a20aac6fb9417d842ea195f6ff0d75dc8473f02533f0d6690c3ae938677380a6f2322edcde6aface666296b0316d656cf2f65e47ae3f96ccf4cefe50be6c355a2e5f4de4c422d834b92681f7d560577e7a0898956408229f1633a556261415159ebb206da619ad03136b4214ed19989bc3fa6ab35d74072886dabfa1e95de3178a5f87fa092df2198bbb68fcf947ae358efc054da2442e97c852a526c207c98e4e4f08a70976ecf57ce2a93ca7cd9e0601c371df89e39939780c821606bd6c29b7b9f6ba8ddc4d45d2c41cdb865dfca1cef077e02b2a71e8f61a217f71f6c8d272ad45a34737903e7990189df5c34ec721dfb839359968059c7518e4022200d26b30bc46292bd193a5e6e72ccd0b8cfa1fa9c3a8ae5cc22a790b25f32f569479f5630307c6f7f1e2a23f1056870bfa2dca008352c9549b52eb2ba7ee7db817b21f03d59f7d3cbba61e7833175b42ba100f6ef6889fe0929a3cf20e1ed9efe9c75a2079918f739c6cc70501a29fe6a9c7563a83d275a611eece19b5d174d67a3c741675110761b0dcc68a36ea5c3887ecc602cf7e6e44714463318175324f7422296ddab7e73bcc951df2636c10fbf87da3a972bf8456424f3d1cbf1b1a5c25c289a741a8eb6680ad4be2c237f265d88e4b1935b269593508cdd423c997abe226ac4b7838c9b671bff514f12274147b21e303bc521afba21f4f05d7d9ed84a05475171a61fc6be292ed985896135e3c0c4e81113520587596ef6b83fcab8d1d223136241fad39ac1b1d05a40a9d21aa522c107707ad5b4be5daa6c93dd2dba71ef59853126b2034363ddd3a586449dff83a19fa8a0da604b62504e171343c58c94167f3d918bb91f0bd92a8c92fdcc4755cc27fed019a0230dce3e274b43299773731de8bac371fa74654f2ffb8292070bfee58cc39f5a8ee1be6ac3d8741313d2535856e2c73902db80df41e4ae467d8b574f566d7d3ce35b97f545c45da7f967f75fd5ff2d2e131299bc23211fbbd58ce8f658b086004845c43013c5ad21afeddacb6e9ed20accfc7827d65041ad30e0b9f6d55b85e0de211b0cb55f477c1b144996cb92844b33e78fe0e89b532b7adc9a1d44fa43e66bfbcfbe5e3b4d4fcf543edd9cd46c20fab04d2f5b226e18ccea764bb268946f2154f8bf9146e3c1f10ce249c42b86741817c8275a42bbd5de8efaa2719d376be5908a103b4b5261e45aed8dc3f610dc8f03393c27fdf2490e85d2b14c263ea40081b1c835ed46cded903820b3fe3c9eb656fb7fefdacb8b4af8549a3b02d8da5459a0198e8acdff4490b82faf20e0390eaeb0b02e4e5a710c97bd0cbf28b5861e465249cc14a1657031e75cf820d7e5d2fda5524d3f2dd269a24ba6568d5e1d97d3d307f9c12a1c93945db704cd61dbfe9fa70e6bf476f8af8d87f7cc1745efe66937953791d9ec1fff7ef6f4a211dd9587bc8688fdd69ba8a26e5fe7052dc925cb10d204d03f4052782f9ba6b1ff13b5c07bb6b9eb398a111a05cba2927e930ffb6f860a929f1f561a40e3ddbfec19387ed7c866c516101f1671d5eb8355941ce690df6b947597a0dd7b1de25ed98ef72d9af5578f1fd2e58c23763966a4248de0fa7190899dc9d5f304d4789d06b8b97385f85a8785f494e04b8bd4ffd430ed07bbe61db24a817c8d5ae8914a7f9e296588b6f0ed4546891e008e910585927a575d91a085f158c60d5c24463ddd854d4c114733b2a8cb761d50154d32db2f582163c2366a983e6193aa5e93d27927ee1933b0877c762dc291c596bec282f41216ec1f8dd985c5fa1ee312ff81eb5501ffa873a6ccec6a5f3cbedcf56a667ec393e1d3f1c4b09a5de99cd32fe7b970eaf4d4e65d032fd54f0597a663ffa5a29a626a01ee99ec43cc388ac45df46a1cf680be6d5308303c719273a75b1878e5219be2c0b1f62bd5062dd149ca572cf62ba9dd2c7347a23bb367a624188f9c430fd1c0419b6c73e0f92c465d9e7b389a9466c7f549d6f39925a9b6f8d93fa59505d9f9df7bc4f8c7c6bcd1cbe044e39ea6f534b220108bf25f2a07df2b439122f7f705cd3e567b23194ff0c9ad8971df8e20bcc59ea99eba9f25f915ef0374c5b8a7cca0d92da9bf44cc2f2d6e12d051450df8101da6ef447d76b97ef384b19f35e5d06d4017d212dffc92b94d21457419d82a2e8d95cabfcc6aa4b25c7df6ab29c7281267c95499dbaddd47a142857e2a83f19d23eba292b1fe4f26c202ef840bdc3d30d7c7519245c907763ec3470a4bb342e311e6934767175fbf03136f39e921a890951f9c3f8a6f4317490fbfcec52857a31ae93e99e1f43515b94539b5b137264e2f468f68a1934511becc65203c323ac1e8cd8c04c9088b3a4e6b915c22071db1e5eddb58a3f00b009057dbda9e443c5f913babfaeecd3ec4aee12af214483010e11ea8f1768889a21d0970a147b25a4884d0da906cdfca390e5aa166bbd7b5577e06b65dfc1215bf75e7bf47afdf599b1ebacefb5738d9506376e80c989aff437e6c33454ce9270fa8211593245e4382e35ffd864ead9a25d1d3253ad8663e23d9763a060ea011a32c1c3e015466e14c27c5b88c028c0952c8728dd46e1df4877c8596dc30ebfea85345a9cfabcaf2e8461de8cf83fd355e79a75ebf8721cf2f4437a9d32eebd25490a17ea21c6baa3a6efd2bb47137cd6fcf0e3dccacf0485146c4b7f0cdb4a4d67d49f92ee0b54901a4f11be7aef972d7d894a6c8a108036e8910db801621a41348779f1718d165fc983472c4e8716c6a44d87efe5e533596d8bc258e3066178bc0238c684e0009c8158a7ba5894e8cc23b34a8a1fbf5cf5faa74f7b269aebdc4ec3d9cf51fb9ff64c9d5428b4bb1ada8af60110233720218322efd28961692b72901f48ce47cf3580e32d42517de8b6d35bd22648404906f5f269b1463766e6926285a621e5fcfcf26a5600cc00596a3f676c599af77827915a49659da8c73d488d23ecd7183f8c2b3ee705b670c10610ce56e0549859bcecc73dddc88fb173e12894cc941614e701182bd8f584bd1740f75e3fe7411076436844f9f6a4bbbc5fcfaf82dd05e253f77132b7a4dd311813cdd24c5422e90ee99dc4bed3690e3a22a0d500f84a438baed1803b4057e430ecf1313a9b90513c203b108a009c6280db2f536559ae25f8ebe82232fb6d9599c3d0ea2a1866594db641ac1560aa417fa8bffc66ebfb9d8d68a6da9d93da3ba59d3529a2f4c08d023914e8f7739bb0ef826ec95b9e7a73fed99d72e126913b9442bbf098c41fcaaecca15cb3f6344d05a041ec72597a343babe86a5cd2a0b0cc0c56ebe5bb7579bf3e730a6020218e1338af7bb7bbb81a2fc31c9e0f8ca646f197d8410020bb714b02fd178f254213ef54689aca3b3c249437a9e57ae8bd8e5a4e808efc455d4815dd2b9747ac1243e13d3c686922e8f4cb16891c26dd09bf73f7f163c2fef234b70ccab254800dbebf1254a3ab08bdc2fa074705376c944f68e77ef95202ba4368ffaffa6da7127ca50a296026e8a317fbb7d133aacb3ded78a2086816316d501a9e336adc409a55481b91fbcf1c0352e8ba484b6aea1eee21494d99e2d7a9a95c2c8986ec10759b1d7b0a122998bf2922ca84bab2e5e9a45db65c4a61fe489c7eb446e30decb1509f98add5e948aeb61ae0ab34668004ad5d7f4fa3d529149fdaef8819816d077055728fb8954e16585fc6bf9aeb7779fff6af4d9dc21f8398af5a52458ea392898613547db5ad467736e0e395ef927e67962941b398390e2dbfca61e85c9469002413c5f029718fe7b2ff5e80dcd14ac146bbd6e6de0ce032b9081739e90428409bdeb0f59109a0c3f66c3b398d11164bc91df00eb86da6459aebd661c2287615433d3ea951b5e8d081e5fe8f45a53b0e28c2f580bd86f557272d852adff2d2bad2bafb92211ef8926993d4ce9be4036b54a6edb2c5b08ebef436da37d00f5c6dc5d531b3bb6da51517883adc4599106bdf87887ab86cd7b5cba272b8f6108951306da74234d837631b1b34c0af20ba136d0adeedf9c800646be06ecdc0099a2766e67b9190536f2beaf7377c33abcc9c0bee58ef3f1a4b9cd3438f40fe0c9580d8e69439853fbfdf05413408c0f78adc5a7423241d0dc49d3dd4189bcc594e16c20c1afd8b4bac28c9b06029c9b672857a</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>java审计</category>
      </categories>
      <tags>
        <tag>java审计</tag>
        <tag>jolokia</tag>
      </tags>
  </entry>
  <entry>
    <title>CVE-2024-5932/CVE-2024-8353 wordpress givewp漏洞分析</title>
    <url>/2025/01/02/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言">前言</h2>
<p>CVE-2024-8353相对于CVE-2024-5932，多了部分绕过的样子，核心利用还是不变的。这个漏洞是个人开发工具的时候作为样本测试分析的，因此没有关注里面的绕过内容。为什么用CVE-2024-8353呢，因为在使用CVE-2024-5932的poc的时候发现无法成功，即使我版本啥的都没问题也还是没成，后续用CVE-2024-8353能够触发payload，因此用它来分析了。</p>
<p>那么正式开始正文，总的来说，在默认设置下，捐款的时候新用户（新的邮箱）会收到一份邮件，该邮件模板中存在{name}，会到达我们的漏洞函数中触发toString方法从而完成pop链</p>
<span id="more"></span>
<h2 id="业务流程分析">业务流程分析</h2>
<ol type="1">
<li>创建 捐款表单</li>
</ol>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094406119.png"
alt="image-20250102094406119" />
<figcaption aria-hidden="true">image-20250102094406119</figcaption>
</figure>
<ol start="2" type="1">
<li>虽然各种类型表单都行，我们payload中修改表单id号都能用，但是第二个classic
form发送到请求包才是我们要的格式</li>
</ol>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094424113.png"
alt="image-20250102094424113" />
<figcaption aria-hidden="true">image-20250102094424113</figcaption>
</figure>
<ol start="3" type="1">
<li>默认设置就行，添加名字，然后直接发布</li>
</ol>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094559148.png"
alt="image-20250102094559148" />
<figcaption aria-hidden="true">image-20250102094559148</figcaption>
</figure>
<ol start="4" type="1">
<li>回到all forms页面，我们能发现已经有我们刚创建的表单了</li>
</ol>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094613022.png"
alt="image-20250102094613022" />
<figcaption aria-hidden="true">image-20250102094613022</figcaption>
</figure>
<ol start="5" type="1">
<li>创建新的文章，添加该表单</li>
</ol>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094630672.png"
alt="image-20250102094630672" />
<figcaption aria-hidden="true">image-20250102094630672</figcaption>
</figure>
<p>成功</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094643317.png"
alt="image-20250102094643317" />
<figcaption aria-hidden="true">image-20250102094643317</figcaption>
</figure>
<p>6.捐100，填好以下内容，然后发送请求包（名字不能有数字）</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094721039.png"
alt="image-20250102094721039" />
<figcaption aria-hidden="true">image-20250102094721039</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094727371.png"
alt="image-20250102094727371" />
<figcaption aria-hidden="true">image-20250102094727371</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094751845.png"
alt="image-20250102094751845" />
<figcaption aria-hidden="true">image-20250102094751845</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094849198.png"
alt="image-20250102094849198" />
<figcaption aria-hidden="true">image-20250102094849198</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094816655.png"
alt="image-20250102094816655" />
<figcaption aria-hidden="true">image-20250102094816655</figcaption>
</figure>
<p>所以我们入口函数从 give_process_donation_form() 开始</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094830367.png"
alt="image-20250102094830367" />
<figcaption aria-hidden="true">image-20250102094830367</figcaption>
</figure>
<ol start="7" type="1">
<li>在进入正式的代码跟踪前，先说明到底发生了什么。</li>
</ol>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102094911931.png"
alt="image-20250102094911931" />
<figcaption aria-hidden="true">image-20250102094911931</figcaption>
</figure>
<p>根据描述，发送给新的，使用offline donation的用户（新邮箱）。</p>
<p>除此外我们也能在form表单中的设置中查看到，可以选择全局定义的邮件，就是上图。或是自定义的邮件。</p>
<p>默认使用全局。</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095134290.png"
alt="image-20250102095134290" />
<figcaption aria-hidden="true">image-20250102095134290</figcaption>
</figure>
<p>点进去该New Offline
Donation发现其邮件内容是使用了{name}标签，在处理该标签的函数中存在我们的漏洞点，触发title属性的toString方法</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095152941.png"
alt="image-20250102095152941" />
<figcaption aria-hidden="true">image-20250102095152941</figcaption>
</figure>
<h2 id="代码调用链">代码调用链</h2>
<p>多图杀猫警告。</p>
<p>首先入口点</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095259358.png"
alt="image-20250102095259358" />
<figcaption aria-hidden="true">image-20250102095259358</figcaption>
</figure>
<p>经过以下一系列变换到达我们函数</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095336395.png"
alt="image-20250102095336395" />
<figcaption aria-hidden="true">image-20250102095336395</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095345847.png"
alt="image-20250102095345847" />
<figcaption aria-hidden="true">image-20250102095345847</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095351067.png"
alt="image-20250102095351067" />
<figcaption aria-hidden="true">image-20250102095351067</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095357497.png"
alt="image-20250102095357497" />
<figcaption aria-hidden="true">image-20250102095357497</figcaption>
</figure>
<p>接下来除了必要说明，会一直贴图顺序调用</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095450346.png"
alt="image-20250102095450346" />
<figcaption aria-hidden="true">image-20250102095450346</figcaption>
</figure>
<p>通过debug直到进入了give_gateway_offline，这大概是请求包这里自定义的（还记得我们之前业务发送请求包的时候选择的支付方式是offline吗）</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095553604.png"
alt="image-20250102095553604" />
<figcaption aria-hidden="true">image-20250102095553604</figcaption>
</figure>
<p>查询对应函数</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095602524.png"
alt="image-20250102095602524" />
<figcaption aria-hidden="true">image-20250102095602524</figcaption>
</figure>
<p>进入对应函数的42到44行，发现是匿名函数的调用</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095612042.png"
alt="image-20250102095612042" />
<figcaption aria-hidden="true">image-20250102095612042</figcaption>
</figure>
<p>我们从这里继续</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095845999.png"
alt="image-20250102095845999" />
<figcaption aria-hidden="true">image-20250102095845999</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102095851204.png"
alt="image-20250102095851204" />
<figcaption aria-hidden="true">image-20250102095851204</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100127544.png"
alt="image-20250102100127544" />
<figcaption aria-hidden="true">image-20250102100127544</figcaption>
</figure>
<p>其内部实际上也还是执行do_action，如下图</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100144501.png"
alt="image-20250102100144501" />
<figcaption aria-hidden="true">image-20250102100144501</figcaption>
</figure>
<p>查询对应函数</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100215578.png"
alt="image-20250102100215578" />
<figcaption aria-hidden="true">image-20250102100215578</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100227867.png"
alt="image-20250102100227867" />
<figcaption aria-hidden="true">image-20250102100227867</figcaption>
</figure>
<p>在 PHP 中，<code>__invoke</code>
是一个魔术方法，当试图将对象当作函数来调用时会被触发。</p>
<p>上面在new了对象后，调用了该对象的__invoke函数</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100352906.png"
alt="image-20250102100352906" />
<figcaption aria-hidden="true">image-20250102100352906</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100358458.png"
alt="image-20250102100358458" />
<figcaption aria-hidden="true">image-20250102100358458</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100409034.png"
alt="image-20250102100409034" />
<figcaption aria-hidden="true">image-20250102100409034</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100414516.png"
alt="image-20250102100414516" />
<figcaption aria-hidden="true">image-20250102100414516</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100430425.png"
alt="image-20250102100430425" />
<figcaption aria-hidden="true">image-20250102100430425</figcaption>
</figure>
<p>我们可以观察上图传入该函数的content内容</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100935049.png"
alt="image-20250102100935049" />
<figcaption aria-hidden="true">image-20250102100935049</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100444042.png"
alt="image-20250102100444042" />
<figcaption aria-hidden="true">image-20250102100444042</figcaption>
</figure>
<p>preg_replace_callback是php的方法，简单说就是查询类似{name}
{siteurl}等大括号tag内容，然后执行本对象的do_tag方法</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102100521420.png"
alt="image-20250102100521420" />
<figcaption aria-hidden="true">image-20250102100521420</figcaption>
</figure>
<p>这部分就是对content中每个tag如{site_url}进行识别，然后分配到对应的执行函数中。</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101000579.png"
alt="image-20250102101000579" />
<figcaption aria-hidden="true">image-20250102101000579</figcaption>
</figure>
<p>通过{name} 的tag，我们进入下一个函数</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101040714.png"
alt="image-20250102101040714" />
<figcaption aria-hidden="true">image-20250102101040714</figcaption>
</figure>
<p>可以查看该参数内容，title就是我们注入点</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101049069.png"
alt="image-20250102101049069" />
<figcaption aria-hidden="true">image-20250102101049069</figcaption>
</figure>
<p>如果进去give_get_payment_meta_user_info()内部的话，会发现它实际上是根据payment_id提取数据，然后进行了反序列化(maybe_unserialize是wordpress的检查并反序列化函数)。</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/1.png"
alt="file://C:/Users/admin/AppData/Local/Temp/.B333Z2/1.png" />
<figcaption
aria-hidden="true">file://C:/Users/admin/AppData/Local/Temp/.B333Z2/1.png</figcaption>
</figure>
<p>回到刚才继续进入到give_get_email_names中</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101242437.png"
alt="image-20250102101242437" />
<figcaption aria-hidden="true">image-20250102101242437</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101247633.png"
alt="image-20250102101247633" />
<figcaption aria-hidden="true">image-20250102101247633</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101253721.png"
alt="image-20250102101253721" />
<figcaption aria-hidden="true">image-20250102101253721</figcaption>
</figure>
<p>最终到达上图的漏洞点，title的反序列化对象能触发tostring方法。</p>
<h2 id="利用链">利用链</h2>
<p>说实话让我构建我肯定构建不出来，而且这也不是我的重点，所以我就把分析过程简单放在下面了。</p>
<p>payload如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\O:19:&quot;Stripe\\\\StripeObject&quot;:1:&#123;s:10:&quot;\0*\0_values&quot;;a:1:&#123;s:3:&quot;foo&quot;;O:62:&quot;Give\\\\PaymentGateways\\\\DataTransferObjects\\\\GiveInsertPaymentData&quot;:1:&#123;s:8:&quot;userInfo&quot;;a:1:&#123;s:7:&quot;address&quot;;O:4:&quot;Give&quot;:1:&#123;s:12:&quot;\0*\0container&quot;;O:33:&quot;Give\\\\Vendors\\\\Faker\\\\ValidGenerator&quot;:3:&#123;s:12:&quot;\0*\0validator&quot;;s:10:&quot;shell_exec&quot;;s:12:&quot;\0*\0generator&quot;;O:34:&quot;Give\\\\Onboarding\\\\SettingsRepository&quot;:1:&#123;s:11:&quot;\0*\0settings&quot;;a:1:&#123;s:8:&quot;address1&quot;;s:4:&quot;calc&quot;;&#125;&#125;s:13:&quot;\0*\0maxRetries&quot;;i:10;&#125;&#125;&#125;&#125;&#125;&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102102426340.png"
alt="image-20250102102426340" />
<figcaption aria-hidden="true">image-20250102102426340</figcaption>
</figure>
<p>直接从StripeObject类的__tostring方法开始</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101615455.png"
alt="image-20250102101615455" />
<figcaption aria-hidden="true">image-20250102101615455</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101629885.png"
alt="image-20250102101629885" />
<figcaption aria-hidden="true">image-20250102101629885</figcaption>
</figure>
<p>获取字典_values中每个key对应的value</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102101643310.png"
alt="image-20250102101643310" />
<figcaption aria-hidden="true">image-20250102101643310</figcaption>
</figure>
<p>根据payload内容直到，我们是只有一个userInfo属性的GiveInsertPaymentData对象</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103103015.png"
alt="image-20250102103103015" />
<figcaption aria-hidden="true">image-20250102103103015</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103011266.png"
alt="image-20250102103011266" />
<figcaption aria-hidden="true">image-20250102103011266</figcaption>
</figure>
<p>继续</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103134879.png"
alt="image-20250102103134879" />
<figcaption aria-hidden="true">image-20250102103134879</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103143356.png"
alt="image-20250102103143356" />
<figcaption aria-hidden="true">image-20250102103143356</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103153730.png"
alt="image-20250102103153730" />
<figcaption aria-hidden="true">image-20250102103153730</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103201048.png"
alt="image-20250102103201048" />
<figcaption aria-hidden="true">image-20250102103201048</figcaption>
</figure>
<p>userInfo['address']
中的内容是一个类对象Give，上图中赋值语句触发了Give对象的_get方法</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103637000.png"
alt="image-20250102103637000" />
<figcaption aria-hidden="true">image-20250102103637000</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103648780.png"
alt="image-20250102103648780" />
<figcaption aria-hidden="true">image-20250102103648780</figcaption>
</figure>
<p>上图中触发container对象ValidGenerator的get方法，但实际上并不存在，因此触发该对象的__call方法，即我们最终调用函数的方法</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103808056.png"
alt="image-20250102103808056" />
<figcaption aria-hidden="true">image-20250102103808056</figcaption>
</figure>
<p>我们可以观察方法传入了什么参数</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103846223.png"
alt="image-20250102103846223" />
<figcaption aria-hidden="true">image-20250102103846223</figcaption>
</figure>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102103850477.png"
alt="image-20250102103850477" />
<figcaption aria-hidden="true">image-20250102103850477</figcaption>
</figure>
<p>然后再看看执行参数分别是什么内容</p>
<p><img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102104403036.png"
alt="image-20250102104403036" /><img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102104417980.png"
alt="image-20250102104417980" /><img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102104441820.png"
alt="image-20250102104441820" /></p>
<p>payload中我们知道generator中的对象是
SettingsRepository，他确实有个对象get</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102104703241.png"
alt="image-20250102104703241" />
<figcaption aria-hidden="true">image-20250102104703241</figcaption>
</figure>
<p>简单说，执行settingsRepository的get()函数，获取了address1中的字符串calc</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102104934451.png"
alt="image-20250102104934451" />
<figcaption aria-hidden="true">image-20250102104934451</figcaption>
</figure>
<p>最后根据maxRetries，调用了maxRetries次数的最终执行
shell_exec('calc')</p>
<figure>
<img
src="../imgs/CVE-2024-5932-CVE-2024-8353-wordpress%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/image-20250102104950996.png"
alt="image-20250102104950996" />
<figcaption aria-hidden="true">image-20250102104950996</figcaption>
</figure>
<h2 id="参考链接">参考链接</h2>
<ol type="1">
<li>https://xz.aliyun.com/t/15699?time__1311=GqjxnieDqYqmqGNPeeqBK0QG8W7vTwh3EbD</li>
<li>https://github.com/EQSTLab/CVE-2024-8353/tree/main</li>
</ol>
]]></content>
      <categories>
        <category>php审计</category>
      </categories>
      <tags>
        <tag>php审计</tag>
        <tag>wordpress</tag>
      </tags>
  </entry>
</search>
